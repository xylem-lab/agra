<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Crop Yield Forecast Estimates – December</title>

<style>
/* ---------- Reset / Base ---------- */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height:1.6; color:#333; background:#f5f5f5; }
a { color:#2c5530; text-decoration:none; }

/* ---------- Layout Shell ---------- */
.container { max-width:1200px; margin:0 auto; background:#fff; box-shadow:0 0 20px rgba(0,0,0,0.08); }
.header { background:linear-gradient(135deg, #2c5530, #4a7c4e); color:#fff; padding:2rem; text-align:center; }
.header h1 { font-size:2.5rem; font-weight:300; margin-bottom:.25rem; }
.header .subtitle { font-size:1.1rem; opacity:.9; margin-bottom:.75rem; }
.header .organizations { font-size:.9rem; opacity:.85; }

/* Banner ribbon (logos strip) */
.banner { background:#2f5f39; color:#fff; padding:14px 10px 8px; text-align:center; }
.banner .line1 { font-size:.95rem; opacity:.95; }
.banner .line2 { font-size:.95rem; opacity:.9; margin-top:2px; }
.banner .logos { display:flex; gap:16px; justify-content:center; align-items:center; padding:10px 8px 8px; }
.banner .logos img { height:36px; width:auto; object-fit:contain; filter: drop-shadow(0 1px 1px rgba(0,0,0,.15)); }

/* ---------- Nav ---------- */
.nav { background:#1a4a1e; padding:.75rem 0; position:sticky; top:0; z-index:100; }
.nav ul { list-style:none; display:flex; justify-content:center; flex-wrap:wrap; }
.nav li { margin:0 .75rem; }
.nav a { color:#fff; padding:.45rem .75rem; border-radius:4px; }
.nav a:hover, .nav a.active { background:rgba(255,255,255,0.18); }

/* ---------- Sections ---------- */
.content { padding:2rem; }
.section { margin-bottom:3rem; }
.section h2 { color:#2c5530; font-size:2rem; margin-bottom:1rem; border-bottom:3px solid #4a7c4e; padding-bottom:.5rem; }
.section h3 { color:#1a4a1e; font-size:1.5rem; margin:1.5rem 0 1rem; }
.section h4 { color:#2c5530; font-size:1.1rem; margin:1rem 0 .5rem; }

/* ---------- Cards / Highlights ---------- */
.executive-summary { background:#f8f9fa; padding:1.5rem; border-left:5px solid #4a7c4e; margin:1rem 0 2rem; }
.data-highlight { background:#e8f5e8; padding:1rem; border-radius:8px; margin:1rem 0; }

/* ---------- Country Blocks ---------- */
.country-section { border:1px solid #ddd; border-radius:8px; margin:2rem 0; overflow:hidden; }
.country-header { background:linear-gradient(135deg, #4a7c4e, #2c5530); color:#fff; padding:1.25rem 1.5rem; }
.country-header h3 { margin:0; font-size:1.6rem; }
.country-content { padding:1.5rem; }

/* ---------- Tables ---------- */
table { width:100%; border-collapse:collapse; margin:1rem 0; background:#fff; border-radius:8px; overflow:hidden;
        box-shadow:0 2px 10px rgba(0,0,0,0.06); }
th { background:linear-gradient(135deg, #4a7c4e, #2c5530); color:#fff; padding:0.85rem; text-align:left; font-weight:600; }
td { padding:0.75rem 0.9rem; border-bottom:1px solid #eee; }
tr:nth-child(even) { background:#f8f9fa; }
tr:hover { background:#e8f5e8; transition:background .25s; }

/* Condition chips */
.condition-poor { background:#ffebee; color:#c62828; }
.condition-watch { background:#fff8e1; color:#f57c00; }
.condition-favorable { background:#e8f5e9; color:#2e7d32; }
.condition-exceptional { background:#e3f2fd; color:#1565c0; }

/* ---------- Figures ---------- */
.figure-container { text-align:center; margin:1.75rem 0; }
.figure-container img { max-width:100%; height:auto; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.08); }
.figure-caption { font-style:italic; color:#666; margin-top:.75rem; padding:0 1rem; }
.figure-caption h4 { color:#2c5530; font-size:1.05rem; margin-bottom:.35rem; font-style:normal; }
/* ---------- STRICT 2-UP MAP GRID ---------- */
.figure-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:16px;
  align-items:start;
  margin:1rem 0 1.75rem;
}

.figure-grid img{
  width:100%;
  height:520px;
  object-fit:contain;   /* no cropping */
  background:#fff;
  border-radius:8px;
}

.figure-placeholder{
  width:100%;
  height:420px;
  border:2px dashed #d6e3db;
  border-radius:8px;
  background:#f8fbf9;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#7a8f86;
  font-style:italic;
  font-size:14px;
}

/* ---------- Comparison table (Executive Summary) ---------- */
.exec-table { margin-top:.75rem; }
.exec-table th, .exec-table td { white-space:nowrap; }

/* ---------- Footer ---------- */
.disclaimer { background:#f8f9fa; border:1px solid #ddd; border-radius:8px; padding:1.25rem; font-size:.92rem; color:#666; }

/* ---------- D3 Chart UI (updated) ---------- */
.chart-wrap{
  margin: 10px auto 26px;
  display:flex; flex-direction:column; align-items:center; gap:12px;
  max-width:980px;   /* centers + constrains chart area */
}
.button-row { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:6px 0; }
.pill{
  border:none; padding:12px 20px; border-radius:999px; cursor:pointer;
  font-size:16px; font-weight:600; letter-spacing:.2px; color:#1b4332; background:#e8f0f2;
  box-shadow:0 2px 6px rgba(0,0,0,.08); transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.pill:hover{ transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.12); }
.pill.is-active{ background:#c5d6db; /* darker than neutral */
  color:#0e2f24;
  outline:2px solid #1b4332; /* stronger ring */
  box-shadow:inset 0 0 0 2px rgba(27,67,50,.35), 0 4px 10px rgba(0,0,0,.10);
}
.pill.crop.is-active{ background:#b9d1d7; color:#083125; }
.pill.source[data-src="All"]{ background:#e3eaee; color:#22323a; }
.pill.source.usda{ background:#2c7bb6; color:#fff; }
.pill.source.fao{  background:#f4a259; color:#fff; }
.pill.source.umd-xylemlab{  background:#1a9850; color:#fff; }

#d3-prod-chart{ display:block; margin:0 auto; }

.tooltip {
  position:fixed; pointer-events:none; background:#ffffff; color:#263238; border:1px solid #ddd;
  border-radius:10px; padding:10px 12px; font-size:12px; box-shadow:0 8px 20px rgba(0,0,0,.12); opacity:0; transition:opacity .12s;
}

/* Axis look: larger, darker */
.axis text{ fill:#28352b; font-size:14px; }
.axis path, .axis line{ stroke:#9ab19d; stroke-width:1; }
.y-title{ fill:#2c5530; font-weight:700; font-size:14px; }

/* ---- Chips / region selector ---- */
.control-row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:center; }
.region-input{ padding:10px 12px; border:1px solid #c9d5cf; border-radius:10px; min-width:240px; font-size:14px; }
.chips{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:6px; }
.chip{ background:#edf4ee; color:#134e4a; border:1px solid #cfe3d8; padding:6px 10px; border-radius:999px; font-size:13px; display:flex; align-items:center; gap:6px; }
.chip button{ border:none; background:transparent; cursor:pointer; font-size:14px; color:#0b3d35; line-height:1; }
.small-note{ font-size:12px; color:#6b7f73; text-align:center; margin-top:2px; }

/* ---------- Regional Table Filters + Sorting ---------- */
.filter-row { 
  display:flex; gap:12px; margin:12px 0; flex-wrap:wrap; 
}
.filter-row label { font-weight:600; margin-right:6px; }
.filter-row select { padding:6px 10px; border:1px solid #aaa; border-radius:6px; }

th.sortable { cursor:pointer; position:relative; }
th.sortable:after {
  content:"⇅"; position:absolute; right:8px; font-size:.8rem; opacity:.6;
}
.filter-actions {
  margin-left: auto;
}

.download-btn {
  background: linear-gradient(135deg, #2c5530, #4a7c4e);
  color: #fff;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.download-btn:hover {
  background: linear-gradient(135deg, #35643b, #5a8d59);
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* ---------- Season Labels (Msimu / Vuli / etc.) ---------- */
.season-tag{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  letter-spacing:.2px;
  background:#edf4ee;
  color:#1a4a1e;
  border:1px solid #cfe3d8;
  margin-left:8px;
  vertical-align:middle;
}

.season-note{
  font-size:0.92rem;
  color:#4f5f55;
  margin-top:8px;
}

</style>

<!-- D3 (once) -->
<script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<div class="container">

  <!-- Header -->
  <header class="header">
    <h1>Crop Yield Forecast Estimates</h1>
    <div class="subtitle">December</div>
  </header>

  <!-- Partner banner -->
  <div class="banner">
    <div class="line1">Partnership for Inclusive Agricultural Transformation in Africa (PIATA)</div>
    <div class="line2">The Regional Food Balance Sheet</div>
    <div class="logos">
      <img src="../data/static/AGRA_Banner.png" alt="Partner Logos" style="width:100%; max-width:900px; height:auto; object-fit:contain;">
    </div>
  </div>

  <!-- Nav -->
  <nav class="nav">
    <ul>
      <li><a href="#overview" class="active">Overview</a></li>
      <li><a href="#executive-summary">Executive Summary</a></li>
      
      <li><a href="#tanzania">Tanzania</a></li>
      
      <li><a href="#appendix">Appendix</a></li>
    </ul>
  </nav>

  <main class="content">

    <!-- Overview -->
    <section id="overview" class="section">
      <h2>Overview</h2>
      <p>This report summarizes yield, acreage, and total production estimates for <strong>maize, rice, and beans</strong> across focus countries. The data is updated monthly in the RFBS Dashboard via a standard data file. Our model reports on the main growing season for countries with available historical yield data for model training.</p>

      <h3>Data Limitations and Model Caveats</h3>
      <p>The data used in this report has limitations due to gaps in historical records and variations in data collection methods:</p>
      <ul style="margin-left:1.25rem;">
        <li>Historical data accuracy and consistency vary by country</li>
        <li>Our model reflects these data gaps, as it is trained on available information</li>
        <li>We view these limitations as opportunities to improve data sharing and scaling methods with our country partners</li>
      </ul>

      <div class="data-highlight">
        <p><strong>Current Focus:</strong> Data presented this month focuses on maize, rice and bean systems in <strong>Tanzania</strong>, which are currently in season.</p>
      </div>
    </section>

    <!-- Executive Summary -->
    <section id="executive-summary" class="section">
      <h2>Executive Summary</h2>

      <div class="executive-summary">
        <p>Current projections for December 2025 maize, beans and rice production in East Africa show varying forecasts between USDA, FAO and UMD-XylemLab models, as summarized in Table and Figure below. For maize in Tanzania, USDA and FAO estimates report relatively close production totals of 7.0 and 8.0 million MT respectively, while UMD-XylemLab presents a wider range from 3.3 to 7.32 million MT, reflecting its focus on a smaller geographic scope. Rice production forecasts exhibit notable differences: USDA and FAO predict 3.8 and 3.58 million MT respectively, but UMD-XylemLab reports no rice area or production, indicating potential exclusion of rice-growing regions or data gaps. Beans have no USDA or FAO data for Tanzania, and UMD-XylemLab similarly notes zero area and production, signaling limited coverage or offseason timing for beans. These disparities highlight differences in geographic scope, model sensitivities, and seasonal considerations between the data sources. Overall, the regional picture for December 2025 reflects broad stability in major crop predictions from USDA and FAO, while UMD-XylemLab results suggest lower production estimates attributable to narrower regional focus and model responsiveness to current crop conditions.</p>
      </div>

      <!-- All Sources Interactive Chart -->
      <h3>All Sources Interactive Chart</h3>
      <div class="chart-wrap">
        <div id="crop-buttons" class="button-row"></div>
        <div id="source-buttons" class="button-row" style="margin-top:4px;"></div>
        <svg id="d3-prod-chart" width="980" height="480"></svg>
      </div>
      <div id="d3-tooltip" class="tooltip"></div>
      <!-- After the chart container -->
              <div id="all-sources-chart"></div>

              
              <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
     	<strong>Note:</strong> 
    	
        	   * Tanzania data represents Msimu season only.
    	
      </div>
              

      <script>
        // Combined UMD + non-UMD rows injected by Python
        const rows = [{"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "USDA", "Area": 4.0, "Yield": 1.75, "MinProd": 7.0, "MaxProd": 7.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "FAO", "Area": 4.2, "Yield": 1.9, "MinProd": 8.0, "MaxProd": 8.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "USDA", "Area": 1.1, "Yield": 3.37, "MinProd": 3.8, "MaxProd": 3.8, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "FAO", "Area": 1.2, "Yield": 3.0, "MinProd": 3.58, "MaxProd": 3.58, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Beans", "Source": "UMD-XylemLab", "Area": 0.0, "Yield": 0.83, "MinProd": 0.0, "MaxProd": 0.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "UMD-XylemLab", "Area": 3.39, "Yield": 1.63, "MinProd": 3.3, "MaxProd": 7.32, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "UMD-XylemLab", "Area": 0.0, "Yield": 1.33, "MinProd": 0.0, "MaxProd": 0.0, "SeasonNote": "Msimu"}];

        // Colors per source
        const sourceColors = { USDA:"#2c7bb6", FAO:"#f4a259", "UMD-XylemLab":"#1a9850" };

        // State
        const crops   = Array.from(new Set(rows.map(d => d.Crop)));
        const sources = ["All", ...Array.from(new Set(rows.map(d => d.Source)))];
        let activeCrop   = crops[0] || "Maize";
        let activeSource = "All";

        // Crop buttons (neutral)
        const cropBtnSel = d3.select("#crop-buttons")
          .selectAll("button")
          .data(crops)
          .join("button")
            .attr("class","pill crop")
            .classed("is-active", d => d === activeCrop)
            .text(d => d)
            .on("click", (_, d) => { activeCrop=d; cropBtnSel.classed("is-active", x=>x===activeCrop); update(); });

        // Source buttons (colored)
        const srcBtnSel = d3.select("#source-buttons")
          .selectAll("button")
          .data(sources)
          .join("button")
            .attr("class", d => {
        		if (d === "All") return "pill source";
        		if (d === "UMD-XylemLab") return "pill source umd-xylemlab";  // Changed
        		return "pill source " + d.toLowerCase();
    	    })
            .attr("data-src", d => d)
            .style("background", d => d==="All" ? "#e3eaee" : (sourceColors[d]||"#888"))
            .style("color", d => d==="All" ? "#22323a" : "#fff")
            .classed("is-active", d => d === activeSource)
            .text(d => d)
            .on("click", (_, d) => { activeSource=d; srcBtnSel.classed("is-active", x=>x===activeSource); update(); });

        // Chart scaffold
        const svg = d3.select("#d3-prod-chart");
        const margin = {top: 16, right: 24, bottom: 64, left: 80};
        const W = +svg.attr("width")  - margin.left - margin.right;
        const H = +svg.attr("height") - margin.top  - margin.bottom;
        const g  = svg.append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const gx = g.append("g").attr("class","axis").attr("transform", `translate(0,${H})`);
        const gy = g.append("g").attr("class","axis");
        g.append("text").attr("class","y-title")
          .attr("x",-H/2).attr("y",-56).attr("transform","rotate(-90)")
          .attr("text-anchor","middle")
          .text("Production (Million MT)");

        const x = d3.scaleBand().padding(0.36).range([0, W]); // wider cat spacing
        const y = d3.scaleLinear().range([H, 0]);

        const barLayer = g.append("g");
        const errLayer = g.append("g");
        const capLayer = g.append("g");
        const tooltip  = d3.select("#d3-tooltip");

        function update(){
          let data = rows.filter(r => r.Crop === activeCrop);
          if (activeSource !== "All") data = data.filter(r => r.Source === activeSource);

          // Aggregate per Country+Source
          const grouped = d3.rollups(
            data,
            v => ({
              Country: v[0].Country,
              Source : v[0].Source,
              Crop   : v[0].Crop,
              mean   : d3.mean(v, d => (d.MinProd + d.MaxProd)/2),
              min    : d3.mean(v, d => d.MinProd),
              max    : d3.mean(v, d => d.MaxProd),
              area   : d3.sum(v, d => d.Area),
              yld    : d3.mean(v, d => d.Yield)
            }),
            d => d.Country, d => d.Source
          );

          const flat = [];
          grouped.forEach(([country, arr]) => arr.forEach(([src,val]) => flat.push(val)));

          const countries = Array.from(new Set(flat.map(d => d.Country)));
          x.domain(countries);
          y.domain([0, Math.max(1, d3.max(flat, d => d.max) * 1.15 || 0.5)]).nice();

          // Geometry
          const srcsInView = (activeSource === "All")
            ? Array.from(new Set(flat.map(d => d.Source)))
            : [activeSource];

          const bw = x.bandwidth();
          const xSub = d3.scaleBand().domain(srcsInView).range([0, bw]).paddingInner(0.04).paddingOuter(0.22);
          const SINGLE_WIDTH = Math.min(36, Math.max(18, bw * 0.38));

          function barX(d){
            const bx = x(d.Country) ?? 0;
            if (activeSource === "All") return bx + xSub(d.Source);
            return bx + (bw - SINGLE_WIDTH)/2;
          }
          function barW(){ return activeSource === "All" ? xSub.bandwidth() : SINGLE_WIDTH; }

          // Bars
          const key = d => `${d.Country}__${d.Source}`;
          const bars = barLayer.selectAll("rect.bar").data(flat, key);

          bars.exit().transition().duration(250).attr("y", y(0)).attr("height", 0).remove();

          bars.enter().append("rect")
              .attr("class","bar")
              .attr("rx",3).attr("ry",3)
              .attr("x", d => barX(d))
              .attr("y", y(0)).attr("height", 0).attr("width", barW())
              .attr("fill", d => sourceColors[d.Source] || "#888")
              .attr("opacity", activeSource==="All" ? 0.9 : 0.95)
            .merge(bars)
              .transition().duration(450)
              .attr("x", d => barX(d))
              .attr("width", barW())
              .attr("y", d => y(d.mean))
              .attr("height", d => Math.max(0, y(0) - y(d.mean)));

          // Error bars — UMD only, vertical with caps, not touching axis
          const umdOnly = flat.filter(d => d.Source === "UMD-XylemLab" && (d.max - d.min) > 1e-6);

          const errs = errLayer.selectAll("line.err").data(umdOnly, key);
          errs.exit().remove();
          errs.enter().append("line")
              .attr("class","err")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(errs)
              .transition().duration(450)
              .attr("x1", d => barX(d) + barW()/2)
              .attr("x2", d => barX(d) + barW()/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.min));

          const capW = d => Math.max(8, barW() * 0.45);
          const capsTop = capLayer.selectAll("line.capTop").data(umdOnly, key);
          capsTop.exit().remove();
          capsTop.enter().append("line")
              .attr("class","capTop")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsTop)
              .transition().duration(450)
              .attr("x1", d => barX(d) + (barW() - capW())/2)
              .attr("x2", d => barX(d) + (barW() + capW())/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.max));

          const capsBot = capLayer.selectAll("line.capBot").data(umdOnly, key);
          capsBot.exit().remove();
          capsBot.enter().append("line")
              .attr("class","capBot")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsBot)
              .transition().duration(450)
              .attr("x1", d => barX(d) + (barW() - capW())/2)
              .attr("x2", d => barX(d) + (barW() + capW())/2)
              .attr("y1", d => y(d.min))
              .attr("y2", d => y(d.min));

          // Tooltip (only show min–max for UMD)
          barLayer.selectAll("rect.bar")
            .on("pointerenter", function (event, d) {
              d3.select(this).attr("opacity", 1);
              tooltip.style("opacity",1).html(`
                <div style="font-weight:700;margin-bottom:4px;">${d.Country}</div>
                <div>Crop: <b>${d.Crop}</b></div>
                <div>Source: <b>${d.Source}</b></div>
                <div>Mean prod: <b>${d.mean.toFixed(2)}</b> M MT</div>
                ${d.Source==='UMD-XylemLab' ? `<div>Min–Max: <b>${d.min.toFixed(2)} – ${d.max.toFixed(2)}</b> M MT</div>` : ``}
                <div>Area: <b>${d.area.toFixed(2)}</b> M ha</div>
                <div>Yield: <b>${d.yld.toFixed(2)}</b> MT/ha</div>
              `);
            })
            .on("pointermove", function (event) {
              const [px, py] = d3.pointer(event, document.body);
              tooltip.style("left", (px+14)+"px").style("top", (py-10)+"px");
            })
            .on("pointerleave", function(){
              d3.select(this).attr("opacity", activeSource==="All" ? 0.9 : 0.95);
              tooltip.style("opacity",0);
            });

          // Axes (styled via CSS .axis rules)
          gx.transition().duration(350).call(d3.axisBottom(x));
          gy.transition().duration(350).call(d3.axisLeft(y).ticks(6));
        }

        update();
      </script>

      <!-- Comparison table (rows pre-rendered by Python) -->
      <h3>All Sources Comparison Table</h3>
      <table class="exec-table">
        <thead>
          <tr>
            <th>Country</th><th>Crop</th><th>Source</th>
            <th>Area (Million ha)</th><th>Yield (MT/ha)</th><th>Min - Max Production (Million MT)</th>
          </tr>
        </thead>
        <tbody>
          
          <tr>
            
              <td rowspan="7"><strong>Tanzania</strong></td>
            
            
              <td rowspan="3"><strong>Maize</strong></td>
            
            <td style="color:#2c7bb6;">
              USDA
            </td>
            <td>4.0</td>
            <td>1.75</td>
            <td>7.0</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#f4a259;">
              FAO
            </td>
            <td>4.2</td>
            <td>1.9</td>
            <td>8.0</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>3.39</td>
            <td>1.63</td>
            <td>3.3 - 7.32</td>
          </tr>
          
          <tr>
            
            
              <td rowspan="3"><strong>Rice</strong></td>
            
            <td style="color:#2c7bb6;">
              USDA
            </td>
            <td>1.1</td>
            <td>3.37</td>
            <td>3.8</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#f4a259;">
              FAO
            </td>
            <td>1.2</td>
            <td>3.0</td>
            <td>3.58</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>0.0</td>
            <td>1.33</td>
            <td>0.0 - 0.0</td>
          </tr>
          
          <tr>
            
            
              <td rowspan="1"><strong>Beans</strong></td>
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>0.0</td>
            <td>0.83</td>
            <td>0.0 - 0.0</td>
          </tr>
          
        </tbody>
      </table>
    </section>

    <!-- Country Chapters built by Python (kept as-is) -->
    <section class="section" id="country-summary">
  <section class="section" id="country-summary">
<h2>Regional Overview/Conditions</h2>
<h3>Country Summary</h3>
<ul class="data-highlight" style="list-style:disc;padding-left:22px;">
<li><strong>Tanzania:</strong> Bean crop conditions across Tanzania's regions are generally stable to improving, with stable trends in regions like Dodoma (predicted yield 0.78 Mg/ha) and Katavi (0.79 Mg/ha), and improving trends noted in Iringa (1.01 Mg/ha), Kigoma (0.88 Mg/ha), Mbeya (0.98 Mg/ha), Mtwara (0.96 Mg/ha), Rukwa (1.00 Mg/ha), and Ruvuma (0.95 Mg/ha). For maize, a majority of regions exhibit improving or stable trends; for example, Iringa (predicted yield 1.73 Mg/ha) and Katavi (2.49 Mg/ha) show improving trends with positive yield anomalies up to 0.397, while Dodoma (1.39 Mg/ha) and Lindi (1.20 Mg/ha) remain stable. Rice shows a mix of trends, with stable to declining conditions; a declining trend is observed in Dodoma (1.03 Mg/ha) and some coastal/lowland regions, while regions like Kigoma (2.01 Mg/ha) display improving trends. There are no alarming conditions flagged, but rice declining trends in some unimodal areas warrant monitoring. Yield anomalies are generally positive for maize and beans across most regions, while rice anomalies hover near zero or slightly negative in some regions.</li>
</ul></section>
<div class="country-section" id="tanzania">
  <div class="country-header">
    <h3>Tanzania</h3>
  </div>
  <div class="country-content">
    <div class="figure-container">
      <img src="../data/calendars/Tanzania.png" alt="Tanzania Agricultural Calendar">
      <div class="figure-caption">
        <h4>Figure: Agricultural Calendar – Tanzania</h4>
        <p>Tanzania's agricultural calendar in December 2026 features ongoing unimodal Msimu crop season in the southern and unimodal rainfall areas, with harvest expected to commence from May to July. In the northern bimodal regions, the focus is on the Vuli season, with harvesting planned from January to February, marking the transition from planting towards the harvesting phase.</p>
      </div>
    </div>
    <h4>Regional Crop Conditions Summary</h4>
    <p>Bean crop conditions across Tanzania's regions are generally stable to improving, with stable trends in regions like Dodoma (predicted yield 0.78 Mg/ha) and Katavi (0.79 Mg/ha), and improving trends noted in Iringa (1.01 Mg/ha), Kigoma (0.88 Mg/ha), Mbeya (0.98 Mg/ha), Mtwara (0.96 Mg/ha), Rukwa (1.00 Mg/ha), and Ruvuma (0.95 Mg/ha). For maize, a majority of regions exhibit improving or stable trends; for example, Iringa (predicted yield 1.73 Mg/ha) and Katavi (2.49 Mg/ha) show improving trends with positive yield anomalies up to 0.397, while Dodoma (1.39 Mg/ha) and Lindi (1.20 Mg/ha) remain stable. Rice shows a mix of trends, with stable to declining conditions; a declining trend is observed in Dodoma (1.03 Mg/ha) and some coastal/lowland regions, while regions like Kigoma (2.01 Mg/ha) display improving trends. There are no alarming conditions flagged, but rice declining trends in some unimodal areas warrant monitoring. Yield anomalies are generally positive for maize and beans across most regions, while rice anomalies hover near zero or slightly negative in some regions.</p>
<button class="pill" onclick="location.href='#regional-table-tanzania'">
  View Regional Production Forecast Table
</button>
    <div class="figure-container">
      <img src="tanzania_production_part1.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 1)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part2.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 2)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part3.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 3)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part4.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 4)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part5.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 5)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <h4>Beans Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Beans_December_Yield_Msimu.png" alt="Tanzania Beans December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Forecasts — Msimu</h4>
          <p>In December 2025, Iringa leads bean yield predictions with the highest value of 1.01 MgT/ha, while Njombe shows the lowest at 0.61 MgT/ha, marking significant regional variation in Msimu season productivity across Tanzania.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Beans_December_Yield_Anomaly_Msimu.png" alt="Tanzania Beans December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Anomaly — Msimu</h4>
          <p>In December 2025, Tanzania’s Msimu bean yields show a positive anomaly with Kigoma (+0.25 MgT/ha) as the top-performing region, while Singida exhibits the lowest positive anomaly at +0.06 MgT/ha. Notably, regions such as Singida and Njambe show localized negative anomalies, indicating below-average yields within those areas.</p>
        </div></div>
    </div>
    <h4>Rice Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Rice_December_Yield_Msimu.png" alt="Tanzania Rice December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Forecasts — Msimu</h4>
          <p>In December 2025, Kigoma region leads Tanzania's Msimu rice yield with 2.01 MgT/ha, while Singida shows the lowest yield at 0.88 MgT/ha. Most regions with data show yields ranging between 1.0 and 1.7 MgT/ha, with several northern and central areas lacking data.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Rice_December_Yield_Anomaly_Msimu.png" alt="Tanzania Rice December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Anomaly — Msimu</h4>
          <p>In December 2025, Tanzania's Msimu rice yield shows positive anomalies up to +0.06 MgT/ha in Dodoma, with other regions like Mbeya and Njambe also performing well (+0.05 MgT/ha). The lowest yield anomaly is in Songwe with -0.07 MgT/ha, indicating a notable negative deviation.</p>
        </div></div>
    </div>
    <h4>Maize Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Maize_December_Yield_Msimu.png" alt="Tanzania Maize December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Forecasts — Msimu</h4>
          <p>In December 2025, Tanzania's Msimu maize yields show Katavi leading the regions at 2.49 MgT/ha, while Mtwara is the lowest performing with 0.94 MgT/ha, indicating significant spatial variation from below average to above average yields across the country. Several northern and eastern regions report no data.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Maize_December_Yield_Anomaly_Msimu.png" alt="Tanzania Maize December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Anomaly — Msimu</h4>
          <p>In December 2025, Ruvuma exhibits the highest positive maize yield anomaly at 0.40 MgT/ha, indicating above-average production, while Mtwara shows one of the lowest at 0.12 MgT/ha, reflecting a negative anomaly. Northern regions such as Dodoma and Lindi also experience below-average yields, with anomalies around 0.13-0.15 MgT/ha.</p>
        </div></div>
    </div>
    <h4>Production Narrative</h4>
    <p>Production forecasts for maize show the largest planted area and highest output diversity, with Dodoma having the largest area (165,794 ha) and estimated production around 229,888 tons, Katavi producing approximately 158,755 tons on 63,818 ha, and Rukwa about 233,765 tons on 111,704 ha. Maize leads in total production. Beans have limited area data for the Msimu and Vuli seasons, thus precise production figures are unavailable, but predicted yields range from 0.38 Mg/ha in Pwani (Vuli) to 1.10 Mg/ha in Mara (Vuli), with mostly stable or improving trends. Rice production area data is missing, restricting quantitative forecasts; however, yield predictions range between 0.81 Mg/ha in Pwani to 2.03 Mg/ha in Arusha, with stable to declining trends in some coastal and island regions. Trend uncertainties mostly affect rice with localized declines, while maize and beans show more consistent improving or stable trends across regions.</p>
  </div></div>

     
</section>
    <!-- === New: Per-country interactive regional charts (injected into each country section) === -->
    <script>
      // Data from Python: { "Kenya": [...], "Uganda":[...], ... }
      // Each row suggested fields: Country, Region, Crop, Area, PredictedYield, MinProd, MaxProd
      // Where MinProd/MaxProd are in tons. If only mean is available, set both equal.
      const regionDataByCountry = {"Tanzania": [{"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Dar Es Salaam", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.05, "Trend": "Improving"}, {"Region": "Geita", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.85, "Trend": "Improving"}, {"Region": "Kaskazini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.62, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.57, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Kusini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Mara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.1, "Trend": "Improving"}, {"Region": "Mjini Magharibi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Mwanza", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.86, "Trend": "Improving"}, {"Region": "Pwani", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.38, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Simiyu", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.73, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.08, "Trend": "Improving"}, {"Region": "Arusha", "Crop": "Maize", "MeanProd": 47630.43, "MinProd": 20210.0, "MaxProd": 75263.0, "Area": 31131.0, "Yield": 1.53, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Maize", "MeanProd": 65.28, "MinProd": 65.0, "MaxProd": 68.0, "Area": 64.0, "Yield": 1.02, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Maize", "MeanProd": 199108.97999999998, "MinProd": 168972.0, "MaxProd": 229053.0, "Area": 116438.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Maize", "MeanProd": 83143.08, "MinProd": 63791.0, "MaxProd": 102439.0, "Area": 48339.0, "Yield": 1.72, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Maize", "MeanProd": 119.11, "MinProd": 2.0, "MaxProd": 237.0, "Area": 43.0, "Yield": 2.77, "Trend": "Improving"}, {"Region": "Kaskazini Unguja", "Crop": "Maize", "MeanProd": 143.19000000000003, "MinProd": 0.0, "MaxProd": 342.0, "Area": 129.0, "Yield": 1.11, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Maize", "MeanProd": 40445.08, "MinProd": 34914.0, "MaxProd": 46109.0, "Area": 23932.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Maize", "MeanProd": 21.0, "MinProd": 7.0, "MaxProd": 36.0, "Area": 21.0, "Yield": 1.0, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Maize", "MeanProd": 104.32, "MinProd": 75.0, "MaxProd": 136.0, "Area": 64.0, "Yield": 1.63, "Trend": "Improving"}, {"Region": "Manyara", "Crop": "Maize", "MeanProd": 174719.44, "MinProd": 103607.0, "MaxProd": 244706.0, "Area": 114947.0, "Yield": 1.52, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Maize", "MeanProd": 113295.91, "MinProd": 82398.0, "MaxProd": 144157.0, "Area": 67039.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Maize", "MeanProd": 53.97, "MinProd": 52.0, "MaxProd": 60.0, "Area": 21.0, "Yield": 2.57, "Trend": "Improving"}, {"Region": "Morogoro", "Crop": "Maize", "MeanProd": 203940.25, "MinProd": 153472.0, "MaxProd": 254072.0, "Area": 106775.0, "Yield": 1.91, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Maize", "MeanProd": 193534.8, "MinProd": 95533.0, "MaxProd": 290853.0, "Area": 113844.0, "Yield": 1.7, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Maize", "MeanProd": 7794.82, "MinProd": 5245.0, "MaxProd": 10317.0, "Area": 6442.0, "Yield": 1.21, "Trend": "Stable"}, {"Region": "Shinyanga", "Crop": "Maize", "MeanProd": 164300.40000000002, "MinProd": 159241.0, "MaxProd": 169305.0, "Area": 149364.0, "Yield": 1.1, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Maize", "MeanProd": 124912.8, "MinProd": 114872.0, "MaxProd": 134979.0, "Area": 138792.0, "Yield": 0.9, "Trend": "Declining"}, {"Region": "Tanga", "Crop": "Maize", "MeanProd": 41189.01, "MinProd": 37735.0, "MaxProd": 44822.0, "Area": 33487.0, "Yield": 1.23, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.03, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.14, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.48, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Declining"}, {"Region": "Kilimanjaro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.15, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.31, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.73, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.84, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.81, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.38, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.17, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Dar Es Salaam", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.05, "Trend": "Improving"}, {"Region": "Geita", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.85, "Trend": "Improving"}, {"Region": "Kaskazini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.62, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.57, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Kusini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Mara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.1, "Trend": "Improving"}, {"Region": "Mjini Magharibi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Mwanza", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.86, "Trend": "Improving"}, {"Region": "Pwani", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.38, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Simiyu", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.73, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.08, "Trend": "Improving"}, {"Region": "Arusha", "Crop": "Maize", "MeanProd": 47630.43, "MinProd": 20210.0, "MaxProd": 75263.0, "Area": 31131.0, "Yield": 1.53, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Maize", "MeanProd": 65.28, "MinProd": 65.0, "MaxProd": 68.0, "Area": 64.0, "Yield": 1.02, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Maize", "MeanProd": 199108.97999999998, "MinProd": 168972.0, "MaxProd": 229053.0, "Area": 116438.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Maize", "MeanProd": 83143.08, "MinProd": 63791.0, "MaxProd": 102439.0, "Area": 48339.0, "Yield": 1.72, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Maize", "MeanProd": 119.11, "MinProd": 2.0, "MaxProd": 237.0, "Area": 43.0, "Yield": 2.77, "Trend": "Improving"}, {"Region": "Kaskazini Unguja", "Crop": "Maize", "MeanProd": 143.19000000000003, "MinProd": 0.0, "MaxProd": 342.0, "Area": 129.0, "Yield": 1.11, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Maize", "MeanProd": 40445.08, "MinProd": 34914.0, "MaxProd": 46109.0, "Area": 23932.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Maize", "MeanProd": 21.0, "MinProd": 7.0, "MaxProd": 36.0, "Area": 21.0, "Yield": 1.0, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Maize", "MeanProd": 104.32, "MinProd": 75.0, "MaxProd": 136.0, "Area": 64.0, "Yield": 1.63, "Trend": "Improving"}, {"Region": "Manyara", "Crop": "Maize", "MeanProd": 174719.44, "MinProd": 103607.0, "MaxProd": 244706.0, "Area": 114947.0, "Yield": 1.52, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Maize", "MeanProd": 113295.91, "MinProd": 82398.0, "MaxProd": 144157.0, "Area": 67039.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Maize", "MeanProd": 53.97, "MinProd": 52.0, "MaxProd": 60.0, "Area": 21.0, "Yield": 2.57, "Trend": "Improving"}, {"Region": "Morogoro", "Crop": "Maize", "MeanProd": 203940.25, "MinProd": 153472.0, "MaxProd": 254072.0, "Area": 106775.0, "Yield": 1.91, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Maize", "MeanProd": 193534.8, "MinProd": 95533.0, "MaxProd": 290853.0, "Area": 113844.0, "Yield": 1.7, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Maize", "MeanProd": 7794.82, "MinProd": 5245.0, "MaxProd": 10317.0, "Area": 6442.0, "Yield": 1.21, "Trend": "Stable"}, {"Region": "Shinyanga", "Crop": "Maize", "MeanProd": 164300.40000000002, "MinProd": 159241.0, "MaxProd": 169305.0, "Area": 149364.0, "Yield": 1.1, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Maize", "MeanProd": 124912.8, "MinProd": 114872.0, "MaxProd": 134979.0, "Area": 138792.0, "Yield": 0.9, "Trend": "Declining"}, {"Region": "Tanga", "Crop": "Maize", "MeanProd": 41189.01, "MinProd": 37735.0, "MaxProd": 44822.0, "Area": 33487.0, "Yield": 1.23, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.03, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.14, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.48, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Declining"}, {"Region": "Kilimanjaro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.15, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.31, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.73, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.84, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.81, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.38, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.17, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}]};

      // Utility: slugify for ids / anchors
      const slug = s => String(s || "").toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'');

      // Hide static PNG production charts inside country sections (true "replace")
      function hideStaticProductionPNGs(sectionEl){
        if (!sectionEl) return;
        const imgs = sectionEl.querySelectorAll('img');
        imgs.forEach(img => {
          const src = (img.getAttribute('src') || '').toLowerCase();
          if (/_production_part\d*\.png$/.test(src) || src.includes('production_part')) {
            const fig = img.closest('.figure-container') || img;
            fig.style.display = 'none';
          }
        });
      }

      // Create and inject a full interactive chart block into a given country section
      function injectRegionChart(country, rows){
        const sec = document.querySelector('.country-section#' + slug(country));
        // fallback: try by heading text if id missing
        let contentHost = sec ? sec.querySelector('.country-content') : null;

        if (!contentHost) {
          // fallback: append to summary section end
          contentHost = document.getElementById('country-summary');
        }

        // Build wrapper
        const wrap = document.createElement('div');
        wrap.className = 'chart-wrap';
        wrap.id = `region-wrap-${slug(country)}`;
        wrap.innerHTML = `
          <h3 style="margin-top:6px;">${country} — Regional Interactive Chart</h3>
          <div class="control-row" style="margin-top:2px;">
            <div id="crop-buttons-${slug(country)}" class="button-row"></div>
          </div>
          <div class="control-row">
            <input id="region-input-${slug(country)}" class="region-input" list="region-list-${slug(country)}" placeholder="Type a region/county and click Add">
            <datalist id="region-list-${slug(country)}"></datalist>
            <button class="pill" id="btn-add-${slug(country)}">Add</button>
            <button class="pill" id="btn-top3-${slug(country)}">Top 3</button>
            <button class="pill" id="btn-top5-${slug(country)}">Top 5</button>
            <button class="pill" id="btn-clear-${slug(country)}">Clear</button>
          </div>
          <div class="chips" id="chips-${slug(country)}"></div>
          <div class="small-note">Bars show mean predicted production; vertical whiskers (UMD) show min–max range.</div>
          <svg id="svg-${slug(country)}" width="980" height="420"></svg>
        `;
        contentHost.appendChild(wrap);

        // Optionally hide old PNGs
        hideStaticProductionPNGs(sec || contentHost);

        // ---- D3 setup for this country ----
        const svg = d3.select(`#svg-${slug(country)}`);
        const margin = {top: 18, right: 22, bottom: 66, left: 92};
        const W = +svg.attr("width")  - margin.left - margin.right;
        const H = +svg.attr("height") - margin.top  - margin.bottom;
        const g  = svg.append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const gx = g.append("g").attr("class","axis").attr("transform", `translate(0,${H})`);
        const gy = g.append("g").attr("class","axis");
        g.append("text").attr("class","y-title")
          .attr("x",-H/2).attr("y",-70).attr("transform","rotate(-90)")
          .attr("text-anchor","middle").text("Predicted Production (tons)");

        const x = d3.scaleBand().padding(0.36).range([0, W]);
        const y = d3.scaleLinear().range([H, 0]);

        const barLayer = g.append("g");
        const errLayer = g.append("g");
        const capLayer = g.append("g");

        // Data prep
        const allCrops = Array.from(new Set(rows.map(r => String(r.Crop).trim()))).sort();
        let activeCrop = allCrops[0] || "Maize";
        const regionsAll = Array.from(new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)))).sort();
        let selectedRegions = [];

        // Build crop buttons
        const cropBtns = d3.select(`#crop-buttons-${slug(country)}`)
          .selectAll("button")
          .data(allCrops)
          .join("button")
          .attr("class","pill crop")
          .classed("is-active", d => d===activeCrop)
          .text(d => d)
          .on("click", (_, d) => {
            activeCrop = d;
            // refresh datalist
            refreshDatalist();
            // reset default selection to Top 5 for new crop
            pickTopN(5);
            cropBtns.classed("is-active", x => x===activeCrop);
            update();
          });

        // Build datalist options
        const datalist = document.getElementById(`region-list-${slug(country)}`);
        function refreshDatalist(){
          datalist.innerHTML = "";
          const regs = Array.from(new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)))).sort();
          regs.forEach(r => {
            const opt = document.createElement('option');
            opt.value = r;
            datalist.appendChild(opt);
          });
        }
        refreshDatalist();

        // Helpers to compute mean/min/max per region for active crop
        function regionStatsForCrop(crop){
          const subset = rows.filter(r => r.Crop === crop);
          const byRegion = d3.rollups(
            subset,
            v => {
              // calc mean, min, max production (tons)
              const mins = v.map(d => +d.MinProd).filter(n => Number.isFinite(n));
              const maxs = v.map(d => +d.MaxProd).filter(n => Number.isFinite(n));
              let min = d3.sum(mins);
              let max = d3.sum(maxs);
              if (!Number.isFinite(min) || !Number.isFinite(max)) {
                // fallback to area*yield if min/max missing
                const means = v.map(d => (+d.Area || 0) * (+d.PredictedYield || 0));
                min = max = d3.sum(means);
              }
              const mean = (min + max) / 2;
              return { region: v[0].Region, crop, mean, min, max };
            },
            d => d.Region
          ).map(([region, obj]) => obj);
          // Sort descending mean
          byRegion.sort((a,b) => d3.descending(a.mean, b.mean));
          return byRegion;
        }

        function pickTopN(n){
          const stats = regionStatsForCrop(activeCrop);
          selectedRegions = stats.slice(0, n).map(d => d.region);
          renderChips();
        }

        // Chips UI
        const chipsHost = document.getElementById(`chips-${slug(country)}`);
        function renderChips(){
          chipsHost.innerHTML = "";
          selectedRegions.forEach(reg => {
            const el = document.createElement('span');
            el.className = 'chip';
            el.innerHTML = `${reg} <button aria-label="Remove ${reg}">&times;</button>`;
            el.querySelector('button').addEventListener('click', () => {
              selectedRegions = selectedRegions.filter(x => x !== reg);
              renderChips();
              update();
            });
            chipsHost.appendChild(el);
          });
        }

        // Buttons
        document.getElementById(`btn-add-${slug(country)}`).addEventListener('click', () => {
          const txt = document.getElementById(`region-input-${slug(country)}`).value.trim();
          const validRegions = new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)));
          if (txt && validRegions.has(txt) && !selectedRegions.includes(txt)){
            selectedRegions.push(txt);
            renderChips();
            update();
          }
          document.getElementById(`region-input-${slug(country)}`).value = "";
        });
        document.getElementById(`btn-top3-${slug(country)}`).addEventListener('click', () => { pickTopN(3); update(); });
        document.getElementById(`btn-top5-${slug(country)}`).addEventListener('click', () => { pickTopN(5); update(); });
        document.getElementById(`btn-clear-${slug(country)}`).addEventListener('click', () => { selectedRegions = []; renderChips(); update(); });

        // Default: Top 5 for initial crop
        pickTopN(5);

        function update(){
          const stats = regionStatsForCrop(activeCrop);
          const regionSet = new Set(selectedRegions.length ? selectedRegions : stats.slice(0,5).map(d=>d.region));
          const data = stats.filter(d => regionSet.has(d.region));

          // domains
          const regions = data.map(d => d.region);
          x.domain(regions);
          const ymax = d3.max(data, d => d.max) || 1;
          y.domain([0, ymax * 1.15]).nice();

          // bars
          const bars = barLayer.selectAll("rect.bar").data(data, d => d.region);
          bars.exit().transition().duration(250).attr("y", y(0)).attr("height", 0).remove();

          const bw = x.bandwidth();
          const BARW = Math.min(36, Math.max(18, bw * 0.38));

          const cropColors = {
            "Maize": "#1a9850",   // green
            "Rice":  "#f4a259",   // orange
            "Beans": "#5e3c99"    // purple (or any color you like)
          };

          bars.enter().append("rect")
              .attr("class","bar")
              .attr("rx",3).attr("ry",3)
              .attr("x", d => (x(d.region) ?? 0) + (bw - BARW)/2)
              .attr("y", y(0)).attr("height", 0).attr("width", BARW)
              .attr("fill", d => cropColors[d.crop] || "#888")
              .attr("opacity", 0.95)
            .merge(bars)
              .transition().duration(450)
              .attr("x", d => (x(d.region) ?? 0) + (bw - BARW)/2)
              .attr("width", BARW)
              .attr("y", d => y(d.mean))
              .attr("height", d => Math.max(0, y(0) - y(d.mean)))
              .attr("fill", d => cropColors[d.crop] || "#888");

          // error whiskers with caps (UMD)
          const errs = errLayer.selectAll("line.err").data(data, d => d.region);
          errs.exit().remove();
          errs.enter().append("line")
              .attr("class","err")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(errs)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw)/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.min));

          const capW = Math.max(8, BARW * 0.4);
          const capsTop = capLayer.selectAll("line.capTop").data(data, d => d.region);
          capsTop.exit().remove();
          capsTop.enter().append("line")
              .attr("class","capTop")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsTop)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw - capW)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw + capW)/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.max));

          const capsBot = capLayer.selectAll("line.capBot").data(data, d => d.region);
          capsBot.exit().remove();
          capsBot.enter().append("line")
              .attr("class","capBot")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsBot)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw - capW)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw + capW)/2)
              .attr("y1", d => y(d.min))
              .attr("y2", d => y(d.min));

          // axes
          gx.transition().duration(350).call(d3.axisBottom(x));
          gy.transition().duration(350).call(d3.axisLeft(y).ticks(6));
        }

        update();
      }

      // Initialize charts for all countries present in data
      document.addEventListener('DOMContentLoaded', () => {
        if (!regionDataByCountry) return;
        Object.keys(regionDataByCountry).forEach(country => {
          try {
            injectRegionChart(country, regionDataByCountry[country] || []);
          } catch (e) {
            console.warn('Failed to inject chart for', country, e);
          }
        });
      });
    </script>
    <!-- === End: per-country interactive charts === -->
    <section id="appendix-tables" class="section">
  <h2>Regional Production Forecast Tables</h2>

  
    <h3 id="regional-table-tanzania">Tanzania – Regional Production Table</h3>

    <div class="filter-row">
      <div>
        <label for="crop-filter-tanzania">Crop:</label>
        <select id="crop-filter-tanzania">
          <option value="All">All</option>
          <option value="Maize">Maize</option>
          <option value="Rice">Rice</option>
          <option value="Beans">Beans</option>
        </select>
      </div>
      <div>
        <label for="cond-filter-tanzania">Condition:</label>
        <select id="cond-filter-tanzania">
          <option value="All">All</option>
          <option value="Exceptional">Exceptional</option>
          <option value="Favorable">Favorable</option>
          <option value="Watch">Watch</option>
          <option value="Poor">Poor</option>
        </select>
      </div>
      <button class="download-btn" data-table="regional-table-tanzania" type="button">
        Download CSV
      </button>
    </div>

    <table class="regional-table" id="regional-table-tanzania">
      <thead>
        <tr>
          <th>Crop</th>
          <th>Region</th>
          <th class="sortable">Predicted Yield (MT/ha)</th>
          <th class="sortable">Yield Anomaly</th>
          <th>Min–Max Production (tons)</th>
          <th>Condition</th>
        </tr>
      </thead>
      <tbody>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Arusha</td>
          <td>0.92</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.05</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Geita</td>
          <td>0.71</td>
          <td>0.149</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kagera</td>
          <td>0.85</td>
          <td>0.123</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Pemba</td>
          <td>0.62</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.57</td>
          <td>0.007</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kilimanjaro</td>
          <td>0.99</td>
          <td>0.343</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Pemba</td>
          <td>0.94</td>
          <td>0.377</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Unguja</td>
          <td>0.72</td>
          <td>0.161</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Manyara</td>
          <td>0.99</td>
          <td>0.288</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mara</td>
          <td>1.1</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mjini Magharibi</td>
          <td>0.72</td>
          <td>0.158</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Morogoro</td>
          <td>0.92</td>
          <td>0.17</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mwanza</td>
          <td>0.86</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Pwani</td>
          <td>0.38</td>
          <td>0.153</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Shinyanga</td>
          <td>0.96</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Simiyu</td>
          <td>0.73</td>
          <td>0.171</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tanga</td>
          <td>1.08</td>
          <td>0.215</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Arusha</td>
          <td>1.53</td>
          <td>0.106</td>
          <td>20210.0 – 75263.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.02</td>
          <td>0.005</td>
          <td>65.0 – 68.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Geita</td>
          <td>1.71</td>
          <td>0.309</td>
          <td>168972.0 – 229053.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kagera</td>
          <td>1.72</td>
          <td>0.325</td>
          <td>63791.0 – 102439.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Pemba</td>
          <td>2.77</td>
          <td>0.1</td>
          <td>2.0 – 237.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Unguja</td>
          <td>1.11</td>
          <td>0.053</td>
          <td>0.0 – 342.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kilimanjaro</td>
          <td>1.69</td>
          <td>0.162</td>
          <td>34914.0 – 46109.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Watch">
          <td><strong>Maize</strong></td>
          <td>Kusini Pemba</td>
          <td>1.0</td>
          <td>-0.002</td>
          <td>7.0 – 36.0</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kusini Unguja</td>
          <td>1.63</td>
          <td>0.104</td>
          <td>75.0 – 136.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Manyara</td>
          <td>1.52</td>
          <td>0.054</td>
          <td>103607.0 – 244706.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mara</td>
          <td>1.69</td>
          <td>0.319</td>
          <td>82398.0 – 144157.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mjini Magharibi</td>
          <td>2.57</td>
          <td>0.08</td>
          <td>52.0 – 60.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Morogoro</td>
          <td>1.91</td>
          <td>0.109</td>
          <td>153472.0 – 254072.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mwanza</td>
          <td>1.7</td>
          <td>0.302</td>
          <td>95533.0 – 290853.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Pwani</td>
          <td>1.21</td>
          <td>0.002</td>
          <td>5245.0 – 10317.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Shinyanga</td>
          <td>1.1</td>
          <td>0.118</td>
          <td>159241.0 – 169305.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Simiyu</td>
          <td>0.9</td>
          <td>0.1</td>
          <td>114872.0 – 134979.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tanga</td>
          <td>1.23</td>
          <td>0.047</td>
          <td>37735.0 – 44822.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Arusha</td>
          <td>2.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.14</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Geita</td>
          <td>1.65</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kagera</td>
          <td>1.48</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Pemba</td>
          <td>1.2</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.92</td>
          <td>-0.033</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kilimanjaro</td>
          <td>1.41</td>
          <td>-0.042</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kusini Pemba</td>
          <td>1.15</td>
          <td>0.051</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Poor">
          <td><strong>Rice</strong></td>
          <td>Kusini Unguja</td>
          <td>1.31</td>
          <td>-0.105</td>
          <td>nan – nan</td>
          <td class="condition-poor">Poor</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Manyara</td>
          <td>1.41</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mara</td>
          <td>1.71</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Mjini Magharibi</td>
          <td>1.51</td>
          <td>-0.021</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Morogoro</td>
          <td>1.73</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mwanza</td>
          <td>1.84</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Pwani</td>
          <td>0.81</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Shinyanga</td>
          <td>1.38</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Simiyu</td>
          <td>1.17</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tanga</td>
          <td>1.22</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Arusha</td>
          <td>0.92</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.05</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Geita</td>
          <td>0.71</td>
          <td>0.149</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kagera</td>
          <td>0.85</td>
          <td>0.123</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Pemba</td>
          <td>0.62</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.57</td>
          <td>0.007</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kilimanjaro</td>
          <td>0.99</td>
          <td>0.343</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Pemba</td>
          <td>0.94</td>
          <td>0.377</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Unguja</td>
          <td>0.72</td>
          <td>0.161</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Manyara</td>
          <td>0.99</td>
          <td>0.288</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mara</td>
          <td>1.1</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mjini Magharibi</td>
          <td>0.72</td>
          <td>0.158</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Morogoro</td>
          <td>0.92</td>
          <td>0.17</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mwanza</td>
          <td>0.86</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Pwani</td>
          <td>0.38</td>
          <td>0.153</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Shinyanga</td>
          <td>0.96</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Simiyu</td>
          <td>0.73</td>
          <td>0.171</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tanga</td>
          <td>1.08</td>
          <td>0.215</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Arusha</td>
          <td>1.53</td>
          <td>0.106</td>
          <td>20210.0 – 75263.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.02</td>
          <td>0.005</td>
          <td>65.0 – 68.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Geita</td>
          <td>1.71</td>
          <td>0.309</td>
          <td>168972.0 – 229053.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kagera</td>
          <td>1.72</td>
          <td>0.325</td>
          <td>63791.0 – 102439.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Pemba</td>
          <td>2.77</td>
          <td>0.1</td>
          <td>2.0 – 237.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Unguja</td>
          <td>1.11</td>
          <td>0.053</td>
          <td>0.0 – 342.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kilimanjaro</td>
          <td>1.69</td>
          <td>0.162</td>
          <td>34914.0 – 46109.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Watch">
          <td><strong>Maize</strong></td>
          <td>Kusini Pemba</td>
          <td>1.0</td>
          <td>-0.002</td>
          <td>7.0 – 36.0</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kusini Unguja</td>
          <td>1.63</td>
          <td>0.104</td>
          <td>75.0 – 136.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Manyara</td>
          <td>1.52</td>
          <td>0.054</td>
          <td>103607.0 – 244706.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mara</td>
          <td>1.69</td>
          <td>0.319</td>
          <td>82398.0 – 144157.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mjini Magharibi</td>
          <td>2.57</td>
          <td>0.08</td>
          <td>52.0 – 60.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Morogoro</td>
          <td>1.91</td>
          <td>0.109</td>
          <td>153472.0 – 254072.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mwanza</td>
          <td>1.7</td>
          <td>0.302</td>
          <td>95533.0 – 290853.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Pwani</td>
          <td>1.21</td>
          <td>0.002</td>
          <td>5245.0 – 10317.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Shinyanga</td>
          <td>1.1</td>
          <td>0.118</td>
          <td>159241.0 – 169305.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Simiyu</td>
          <td>0.9</td>
          <td>0.1</td>
          <td>114872.0 – 134979.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tanga</td>
          <td>1.23</td>
          <td>0.047</td>
          <td>37735.0 – 44822.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Arusha</td>
          <td>2.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.14</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Geita</td>
          <td>1.65</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kagera</td>
          <td>1.48</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Pemba</td>
          <td>1.2</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.92</td>
          <td>-0.033</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kilimanjaro</td>
          <td>1.41</td>
          <td>-0.042</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kusini Pemba</td>
          <td>1.15</td>
          <td>0.051</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Poor">
          <td><strong>Rice</strong></td>
          <td>Kusini Unguja</td>
          <td>1.31</td>
          <td>-0.105</td>
          <td>nan – nan</td>
          <td class="condition-poor">Poor</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Manyara</td>
          <td>1.41</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mara</td>
          <td>1.71</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Mjini Magharibi</td>
          <td>1.51</td>
          <td>-0.021</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Morogoro</td>
          <td>1.73</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mwanza</td>
          <td>1.84</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Pwani</td>
          <td>0.81</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Shinyanga</td>
          <td>1.38</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Simiyu</td>
          <td>1.17</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tanga</td>
          <td>1.22</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
      </tbody>
    </table>
  
</section>

    <!-- Appendix -->
    <section id="appendix" class="section">
      <h2>Appendix A: Model Description and Parameters</h2>

      <h3>Crop Conditions Classes</h3>
      <table>
        <thead><tr><th>Class</th><th>Definition</th></tr></thead>
        <tbody>
          <tr><td class="condition-exceptional"><strong>Exceptional</strong></td><td>Conditions are much better than average at the time of reporting. Used only during the grain-filling through harvest stages.</td></tr>
          <tr><td class="condition-favorable"><strong>Favorable</strong></td><td>Conditions range from slightly below to slightly above-average at reporting time.</td></tr>
          <tr><td class="condition-watch"><strong>Watch</strong></td><td>Near average but with risk to final yields; recovery possible if conditions improve.</td></tr>
          <tr><td class="condition-poor"><strong>Poor</strong></td><td>Well below average; yields likely 10–25% below average with limited recovery potential.</td></tr>
        </tbody>
      </table>

      <h3>Data Sources</h3>
      <table>
        <thead><tr><th>Data Type</th><th>Source</th></tr></thead>
        <tbody>
          <tr><td>NDVI</td><td>UMD GLAM system</td></tr>
          <tr><td>ESI</td><td>NASA SERVIR Global</td></tr>
          <tr><td>Precipitation</td><td>CHIRPS (historical), NOAA CPC</td></tr>
          <tr><td>Precipitation Forecast</td><td>CHIRPS-GEFS</td></tr>
          <tr><td>Soil Moisture</td><td>NASA–USDA Global (SMOS)</td></tr>
          <tr><td>Temperature</td><td>NOAA CPC</td></tr>
        </tbody>
      </table>

      <h3>Model Performance Summary</h3>
      <p>Our yield prediction model is evaluated using historical data to assess accuracy and reliability. Performance metrics are calculated by comparing predicted yields against actual reported yields from previous seasons.</p>

                <table>
  	<thead><tr><th>Country</th><th>Crop</th><th>R² Score</th><th>RMSE (MT/ha)</th><th>MAE (MT/ha)</th><th>Training Period</th></tr></thead>
  	<tbody>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Maize</td><td>0.78</td><td>0.45</td><td>0.35</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Rice</td><td>0.72</td><td>0.52</td><td>0.42</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Beans</td><td>0.68</td><td>0.38</td><td>0.30</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Kenya</strong></td> <td>Maize</td><td>0.75</td><td>0.48</td><td>0.38</td><td>2010-2023</td></tr>
    	
          </tbody>
                 </table>

      <div style="margin-top: 1rem; font-size: 0.95rem; color: #555;">
  	<p><strong>Metrics Explanation:</strong></p>
  	<ul style="margin-left: 1.5rem;">
    	<li><strong>R² Score:</strong> Coefficient of determination (0-1); higher values indicate better model fit. Values above 0.7 indicate strong predictive power.</li>
    	<li><strong>RMSE:</strong> Root Mean Square Error; average magnitude of prediction errors in MT/ha. Lower is better.</li>
    	<li><strong>MAE:</strong> Mean Absolute Error; average absolute difference between predicted and actual yields in MT/ha. Lower is better.</li>
  	</ul>
                </div>

      <div class="disclaimer">
        <h4>Disclaimer</h4>
        <p>The opinions expressed in this report are those of the authors and do not necessarily reflect the official policy or position of AGRA, its employees, partners, or affiliates. While every effort has been made to ensure the accuracy and completeness of the information, we assume no responsibility for any errors or omissions.</p>
        <p><strong>Project Lead:</strong> Dr. Catherine Nakalembe<br/>
           <strong>Team:</strong> Xylem Lab / NASA Harvest–Africa Team<br/>
           <strong>Date:</strong> December</p>
      </div>
    </section>

  </main>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Loop through all regional tables
  document.querySelectorAll("table.regional-table").forEach(table => {
    const countryId = table.id.replace("regional-table-", "");
    const cropSel = document.getElementById(`crop-filter-${countryId}`);
    const condSel = document.getElementById(`cond-filter-${countryId}`);
    const downloadBtn = document.querySelector(`.download-btn[data-table="${table.id}"]`);

    // --- FILTERING ---
    function applyFilters() {
      const crop = cropSel.value;
      const cond = condSel.value;
      table.querySelectorAll("tbody tr").forEach(row => {
        const rowCrop = row.getAttribute("data-crop");
        const rowCond = row.getAttribute("data-condition");
        let show = true;
        if (crop !== "All" && rowCrop !== crop) show = false;
        if (cond !== "All" && rowCond !== cond) show = false;
        row.style.display = show ? "" : "none";
      });
    }
    cropSel.addEventListener("change", applyFilters);
    condSel.addEventListener("change", applyFilters);

    // --- SORTING ---
    table.querySelectorAll("th.sortable").forEach((th, idx) => {
      let asc = true;
      th.addEventListener("click", () => {
        const rows = Array.from(table.querySelectorAll("tbody tr")).filter(r => r.style.display !== "none");
        rows.sort((a,b) => {
          const aVal = parseFloat(a.children[idx].innerText) || 0;
          const bVal = parseFloat(b.children[idx].innerText) || 0;
          return asc ? aVal - bVal : bVal - aVal;
        });
        asc = !asc;
        rows.forEach(r => table.querySelector("tbody").appendChild(r));
      });
    });

    // --- DOWNLOAD CSV ---
    if (downloadBtn) {
      downloadBtn.addEventListener("click", (event) => {
        event.stopPropagation(); // prevent double trigger
        event.preventDefault();

        let csv = [];
        const rows = table.querySelectorAll("tr");
        rows.forEach((row, ridx) => {
          if (row.style.display === "none") return; // skip hidden
          const cols = row.querySelectorAll("th,td");
          let values = Array.from(cols).map(c => c.innerText.trim());

          if (ridx === 0) {
            // Header: split Min–Max
            values = values.flatMap(v => {
              if (v.includes("Min–Max")) return ["Min Production (tons)", "Max Production (tons)"];
              return [v];
            });
          } else {
            // Data rows: split ranges
            values = values.flatMap(v => {
              if (v.includes("–")) {
                const parts = v.split("–").map(p => p.trim());
                if (parts.length === 2) return [parts[0], parts[1]];
              }
              return [v];
            });
          }
          csv.push(values.map(v => `"${v}"`).join(","));
        });

        const blob = new Blob([csv.join("\n")], { type: "text/csv" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `${countryId}_regional_table.csv`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }); // attach once only
    }
  });
});
</script>
<!-- Footer -->
<footer class="bulletin-footer">
    <div class="footer-container">
        <div class="footer-section footer-branding">
            <img src="F:\Nakalembe lab\agra_rag\data\static\XylemLab logo.png" alt="XylemLab Logo" class="footer-logo">
            <p class="footer-tagline">Advancing Agricultural Intelligence Through Remote Sensing</p>
        </div>
        
        <div class="footer-section">
            <h4>Quick Links</h4>
            <ul class="footer-links">
                <li><a href="https://www.xylemlab.org/mission" target="_blank">Our Mission</a></li>
                <li><a href="https://www.xylemlab.org/get-involved" target="_blank">Get Involved</a></li>
                <li><a href="https://www.xylemlab.org/donate" target="_blank">Make a Donation</a></li>
            </ul>
        </div>
        
        <div class="footer-section">
            <h4>Contact Us</h4>
            <ul class="footer-links">
                <li><a href="https://circle.xylemlab.org" target="_blank">Circle Community</a></li>
                <li><a href="https://bsky.app/profile/xylemlab.org" target="_blank">Bluesky</a></li>
                <li><a href="https://www.linkedin.com/company/xylemlab" target="_blank">LinkedIn Community</a></li>
                <li><a href="mailto:contact@xylemlab.org">contact@xylemlab.org</a></li>
            </ul>
        </div>
        
        <div class="footer-section">
            <h4>Our Network</h4>
            <ul class="footer-links">
                <li><a href="https://www.xylemlab.org/" target="_blank">XylemLab</a></li>
                <li><a href="https://www.xyleminstitute.org/" target="_blank">Xylem Institute</a></li>
                <li><a href="https://www.umd.edu" target="_blank">University of Maryland</a></li>
            </ul>
        </div>
    </div>
    
    <div class="footer-bottom">
        <p>&copy; 2026 UMD-XylemLab. All rights reserved. | Bulletin generated on February 12, 2026 at 08:12 UTC</p>
        <p class="footer-disclaimer">Data sources: USDA, FAO, and UMD-XylemLab predictive models</p>
    </div>
</footer>

<style>
.bulletin-footer {
    background: linear-gradient(135deg, #2c5530, #4a7c4e);
    color: #ffffff;
    margin-top: 60px;
    padding: 50px 20px 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 40px;
    padding-bottom: 30px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.footer-section h4 {
    color: #a8d5a8;
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
    letter-spacing: 0.5px;
}

.footer-branding {
    grid-column: 1;
}

.footer-logo {
    max-width: 180px;
    height: auto;
    margin-bottom: 15px;
    filter: brightness(0) invert(1);
}

.footer-tagline {
    color: #e8f5e8;
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
}

.footer-links {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-links li {
    margin-bottom: 10px;
}

.footer-links a {
    color: #f0f7f0;
    text-decoration: none;
    font-size: 14px;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

.footer-links a:hover {
    color: #c8e6c8;
    transform: translateX(3px);
}

.footer-links a::before {
    content: "→";
    margin-right: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.footer-links a:hover::before {
    opacity: 1;
}

.footer-bottom {
    max-width: 1200px;
    margin: 30px auto 0;
    text-align: center;
    padding-top: 20px;
}

.footer-bottom p {
    color: #d4e7d4;
    font-size: 13px;
    margin: 8px 0;
}

.footer-disclaimer {
    font-style: italic;
    color: #b8d4b8;
}

@media (max-width: 768px) {
    .footer-container {
        grid-template-columns: 1fr;
        gap: 30px;
    }
    
    .footer-branding {
        grid-column: 1;
    }
}
</style>

<!-- Google Material Icons -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=share,content_copy,open_in_new,close,check_circle,article,email,tag,trending_up,agriculture,public" />

<!-- Social Share Component v2 -->
<div id="share-modal" class="share-modal-v2" style="display:none;">
    <div class="share-modal-overlay" onclick="closeShareModal()"></div>
    <div class="share-modal-content-v2">
        <div class="share-modal-header-v2">
            <div class="share-header-title">
                <span class="material-symbols-outlined">share</span>
                <h3>Share This Bulletin</h3>
            </div>
            <button class="share-close-btn-v2" onclick="closeShareModal()">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
        
        <div class="share-headline-box">
            <div class="share-headline-label">
                <span class="material-symbols-outlined">trending_up</span>
                Key Insight
            </div>
            <p class="share-headline-text">Tanzania's rice and maize yields are expected to see significant growth this December.</p>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Select Platform</div>
            <div class="share-platforms-v2">
                <button class="platform-btn-v2 active" data-platform="twitter" onclick="selectPlatform('twitter')">
                    <img src="data/static/icons8-x-100.svg" alt="X" class="platform-icon-img">
                    <span>X / Twitter</span>
                </button>
                <button class="platform-btn-v2" data-platform="linkedin" onclick="selectPlatform('linkedin')">
                    <img src="data/static/icons8-linkedin-100.svg" alt="LinkedIn" class="platform-icon-img">
                    <span>LinkedIn</span>
                </button>
                <button class="platform-btn-v2" data-platform="whatsapp" onclick="selectPlatform('whatsapp')">
                    <img src="data/static/icons8-whatsapp-100.svg" alt="WhatsApp" class="platform-icon-img">
                    <span>WhatsApp</span>
                </button>
                <button class="platform-btn-v2" data-platform="facebook" onclick="selectPlatform('facebook')">
                    <img src="data/static/icons8-facebook-100.svg" alt="Facebook" class="platform-icon-img">
                    <span>Facebook</span>
                </button>
                <button class="platform-btn-v2" data-platform="instagram" onclick="selectPlatform('instagram')">
                    <img src="data/static/icons8-instagram-100.svg" alt="Instagram" class="platform-icon-img">
                    <span>Instagram</span>
                </button>
                <button class="platform-btn-v2" data-platform="telegram" onclick="selectPlatform('telegram')">
                    <svg class="platform-icon-svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.461-1.901-.903-1.056-.692-1.653-1.123-2.678-1.799-1.185-.781-.417-1.21.258-1.911.177-.184 3.247-2.977 3.307-3.23.007-.032.015-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.139-5.062 3.345-.479.329-.913.489-1.302.481-.428-.009-1.252-.242-1.865-.442-.751-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.015 3.333-1.386 4.025-1.627 4.477-1.635.099-.002.321.023.465.141.121.099.154.232.17.325.015.094.034.31.019.478z"/>
                    </svg>
                    <span>Telegram</span>
                </button>
                <button class="platform-btn-v2" data-platform="medium" onclick="selectPlatform('medium')">
                    <img src="data/static/icons8-medium-100.svg" alt="Medium" class="platform-icon-img">
                    <span>Medium</span>
                </button>
                <button class="platform-btn-v2" data-platform="email" onclick="selectPlatform('email')">
                    <img src="data/static/icons8-gmail-100.svg" alt="Email" class="platform-icon-img">
                    <span>Email</span>
                </button>
            </div>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Select Tone</div>
            <div class="tone-buttons-v2">
                <button class="tone-btn-v2 active" data-tone="formal" onclick="selectTone('formal')">
                    <span class="tone-icon">PRO</span>
                    Formal
                </button>
                <button class="tone-btn-v2" data-tone="casual" onclick="selectTone('casual')">
                    <span class="tone-icon">FRI</span>
                    Casual
                </button>
                <button class="tone-btn-v2" data-tone="data" onclick="selectTone('data')">
                    <span class="tone-icon">NUM</span>
                    Data-Rich
                </button>
            </div>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Preview</div>
            <div class="share-preview-v2">
                <textarea id="share-text" rows="5"></textarea>
                <div class="share-preview-footer">
                    <span id="char-count">0 characters</span>
                    <span id="platform-limit"></span>
                </div>
            </div>
        </div>
        
        <div class="share-actions-v2">
            <button class="share-action-btn-v2 secondary" onclick="copyShareText()">
                <span class="material-symbols-outlined" id="copy-icon">content_copy</span>
                <span id="copy-text">Copy Text</span>
            </button>
            <button class="share-action-btn-v2 primary" onclick="shareNow()">
                <span class="material-symbols-outlined">open_in_new</span>
                Share Now
            </button>
        </div>
        
        <div class="share-section share-hashtags-section">
            <div class="share-section-label">
                <span class="material-symbols-outlined">tag</span>
                Suggested Hashtags
            </div>
            <div id="hashtag-list" class="hashtag-list-v2"></div>
        </div>
        
        <div id="medium-extra" class="medium-extra-section" style="display:none;">
            <div class="share-section-label">
                <span class="material-symbols-outlined">article</span>
                Medium Article Outline
            </div>
            <div class="medium-outline">
                <div class="medium-field">
                    <label>Title</label>
                    <input type="text" id="medium-title" readonly>
                </div>
                <div class="medium-field">
                    <label>Subtitle</label>
                    <input type="text" id="medium-subtitle" readonly>
                </div>
                <div class="medium-field">
                    <label>Key Points</label>
                    <ul id="medium-points"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Material Symbols configuration */
.material-symbols-outlined {
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    vertical-align: middle;
}

/* Bulletin color palette */
:root {
    --bulletin-primary: #1a472a;
    --bulletin-primary-light: #2d5a3d;
    --bulletin-primary-dark: #0f2d1a;
    --bulletin-accent: #3d8b5f;
    --bulletin-bg: #f8faf9;
    --bulletin-border: #d4e5db;
    --bulletin-text: #1a1a1a;
    --bulletin-text-muted: #5a6b5f;
}

/* Modal Overlay */
.share-modal-v2 {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.share-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(26, 71, 42, 0.4);
    backdrop-filter: blur(4px);
}

/* Modal Content */
.share-modal-content-v2 {
    position: relative;
    background: white;
    border-radius: 12px;
    padding: 0;
    max-width: 560px;
    width: 94%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 25px 80px rgba(26, 71, 42, 0.25);
    border: 1px solid var(--bulletin-border);
}

/* Header */
.share-modal-header-v2 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: var(--bulletin-primary);
    color: white;
    border-radius: 12px 12px 0 0;
}

.share-header-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

.share-header-title h3 {
    margin: 0;
    font-size: 1.2em;
    font-weight: 600;
}

.share-close-btn-v2 {
    background: rgba(255,255,255,0.15);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}

.share-close-btn-v2:hover {
    background: rgba(255,255,255,0.25);
}

/* Headline Box */
.share-headline-box {
    margin: 20px 24px;
    padding: 16px;
    background: var(--bulletin-bg);
    border-radius: 8px;
    border-left: 4px solid var(--bulletin-accent);
}

.share-headline-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--bulletin-accent);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
}

.share-headline-text {
    margin: 0;
    font-size: 15px;
    color: var(--bulletin-text);
    line-height: 1.5;
}

/* Sections */
.share-section {
    padding: 0 24px 20px;
}

.share-section-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    color: var(--bulletin-text-muted);
    margin-bottom: 12px;
}

/* Platform Grid */
.share-platforms-v2 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
}

.platform-btn-v2 {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 12px 8px;
    border: 2px solid var(--bulletin-border);
    border-radius: 10px;
    background: white;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 11px;
    color: var(--bulletin-text-muted);
}

.platform-btn-v2:hover {
    border-color: var(--bulletin-accent);
    background: var(--bulletin-bg);
}

.platform-btn-v2.active {
    border-color: var(--bulletin-primary);
    background: var(--bulletin-primary);
    color: white;
}

.platform-icon-img {
    width: 28px;
    height: 28px;
    object-fit: contain;
    filter: grayscale(30%);
    transition: filter 0.2s;
}

.platform-btn-v2.active .platform-icon-img {
    filter: brightness(0) invert(1);
}

.platform-icon-svg {
    width: 28px;
    height: 28px;
}

.platform-btn-v2.active .platform-icon-svg {
    fill: white;
}

/* Tone Buttons */
.tone-buttons-v2 {
    display: flex;
    gap: 10px;
}

.tone-btn-v2 {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border: 2px solid var(--bulletin-border);
    border-radius: 8px;
    background: white;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    color: var(--bulletin-text-muted);
    transition: all 0.2s;
}

.tone-btn-v2:hover {
    border-color: var(--bulletin-accent);
}

.tone-btn-v2.active {
    border-color: var(--bulletin-primary);
    background: var(--bulletin-bg);
    color: var(--bulletin-primary);
}

.tone-icon {
    font-size: 10px;
    font-weight: 700;
    padding: 3px 6px;
    background: var(--bulletin-border);
    border-radius: 4px;
    color: var(--bulletin-text-muted);
}

.tone-btn-v2.active .tone-icon {
    background: var(--bulletin-primary);
    color: white;
}

/* Preview */
.share-preview-v2 {
    background: var(--bulletin-bg);
    border-radius: 8px;
    border: 1px solid var(--bulletin-border);
    overflow: hidden;
}

.share-preview-v2 textarea {
    width: 100%;
    padding: 14px;
    border: none;
    font-family: inherit;
    font-size: 14px;
    resize: none;
    background: transparent;
    color: var(--bulletin-text);
    line-height: 1.5;
}

.share-preview-v2 textarea:focus {
    outline: none;
}

.share-preview-footer {
    display: flex;
    justify-content: space-between;
    padding: 8px 14px;
    background: rgba(0,0,0,0.03);
    font-size: 12px;
    color: var(--bulletin-text-muted);
}

/* Actions */
.share-actions-v2 {
    display: flex;
    gap: 12px;
    padding: 0 24px 20px;
}

.share-action-btn-v2 {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 20px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.share-action-btn-v2.secondary {
    background: var(--bulletin-bg);
    color: var(--bulletin-primary);
    border: 2px solid var(--bulletin-border);
}

.share-action-btn-v2.secondary:hover {
    background: var(--bulletin-border);
}

.share-action-btn-v2.primary {
    background: var(--bulletin-primary);
    color: white;
}

.share-action-btn-v2.primary:hover {
    background: var(--bulletin-primary-light);
}

/* Hashtags */
.share-hashtags-section {
    border-top: 1px solid var(--bulletin-border);
    padding-top: 20px;
    margin-top: 4px;
}

.hashtag-list-v2 {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.hashtag-list-v2 span {
    background: var(--bulletin-bg);
    color: var(--bulletin-accent);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    cursor: pointer;
    border: 1px solid var(--bulletin-border);
    transition: all 0.2s;
}

.hashtag-list-v2 span:hover {
    background: var(--bulletin-accent);
    color: white;
    border-color: var(--bulletin-accent);
}

/* Medium Extra Section */
.medium-extra-section {
    padding: 20px 24px;
    background: var(--bulletin-bg);
    border-top: 1px solid var(--bulletin-border);
}

.medium-outline {
    background: white;
    border-radius: 8px;
    padding: 16px;
    border: 1px solid var(--bulletin-border);
}

.medium-field {
    margin-bottom: 12px;
}

.medium-field:last-child {
    margin-bottom: 0;
}

.medium-field label {
    display: block;
    font-size: 11px;
    font-weight: 600;
    color: var(--bulletin-text-muted);
    text-transform: uppercase;
    margin-bottom: 6px;
}

.medium-field input {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--bulletin-border);
    border-radius: 6px;
    font-size: 14px;
    background: var(--bulletin-bg);
}

.medium-field ul {
    margin: 0;
    padding-left: 20px;
    font-size: 13px;
    color: var(--bulletin-text);
}

.medium-field li {
    margin-bottom: 6px;
}

/* Floating Share Button */
.bulletin-share-btn-v2 {
    position: fixed;
    bottom: 24px;
    right: 24px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 14px 20px;
    border-radius: 50px;
    background: var(--bulletin-primary);
    color: white;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(26, 71, 42, 0.35);
    z-index: 9999;
    transition: all 0.2s;
}

.bulletin-share-btn-v2:hover {
    background: var(--bulletin-primary-light);
    transform: translateY(-2px);
    box-shadow: 0 6px 28px rgba(26, 71, 42, 0.4);
}

.bulletin-share-btn-v2 .material-symbols-outlined {
    font-size: 20px;
}

/* Responsive */
@media (max-width: 600px) {
    .share-platforms-v2 {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .share-modal-content-v2 {
        max-height: 85vh;
        margin: 0 12px;
    }
    
    .tone-buttons-v2 {
        flex-direction: column;
    }
    
    .bulletin-share-btn-v2 span:not(.material-symbols-outlined) {
        display: none;
    }
    
    .bulletin-share-btn-v2 {
        padding: 14px;
        border-radius: 50%;
    }
}
</style>

<script>
const SOCIAL_DATA = {"headline": "December 2026 Yield Forecast: Tanzania\'s Agricultural Outlook", "key_insight": "Tanzania\'s rice and maize yields are expected to see significant growth this December.", "twitter": {"formal": "Explore the latest yield forecasts for December 2026 in Tanzania\'s agriculture. How will the crops perform? Read more here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html #FoodSecurity #Agriculture", "casual": "Ever wondered how Tanzania\'s crops are doing? Check out the latest forecast for December! More details: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html #Agriculture #Tanzania", "data": "Tanzania\'s rice and maize yields forecasted to grow in December 2026. Learn more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html #Agriculture #DataDriven"}, "linkedin": {"formal": "The December 2026 agricultural yield forecast for Tanzania is here. Supported by @AGRA and @COMESA, this bulletin provides insights into projected yields for beans, rice, and maize. Discover the impact of the COMESA RFBS Initiative now. Read more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Exciting insights for Tanzanian agriculture this December! With support from @AGRA and @COMESA, our latest bulletin shows promising trends for rice and maize yields. Check out the full report: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Key insights from the December 2026 yield forecast: - Tanzania\'s rice and maize yields expected to grow - Supported by @AGRA PIATA and @COMESA RFBS Initiative. Explore the details: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "whatsapp": {"formal": "The December 2026 yield forecast for Tanzania is now available. Discover how beans, rice, and maize are projected to perform. Dive into the details here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Hey there! Check out the latest yield forecast for Tanzania\'s crops this December. How will your farm be affected? See the details: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Tanzania\'s December 2026 rice and maize yields are projected to grow. Find out what this means for local farmers. Read the full report: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "facebook": {"formal": "What does the December 2026 yield forecast mean for Tanzania\'s agriculture? Dive into the detailed analysis of beans, rice, and maize. Join the conversation and share your thoughts! Read more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Wondering how Tanzania\'s crops will fare this December? Check out our latest forecast for beans, rice, and maize! Share your thoughts and predictions here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Gain insights into Tanzania\'s December 2026 yield forecast: rice and maize show promising growth. What does this mean for local farms? Discuss with us: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "telegram": {"formal": "The latest yield forecast for Tanzania in December 2026 is out. Key insights: - Expected growth in rice and maize yields - Supported by COMESA RFBS and AGRA PIATA. Discover more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Tanzania\'s yield forecast for December 2026 is here! Exciting trends for rice and maize. Check out what this means for you: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "December 2026 forecast: Tanzania\'s rice and maize yields expected to increase. Learn more about the implications: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "email": {"formal": {"subject": "December 2026: Tanzania\'s Yield Forecast Available Now", "body": "Dear Stakeholder,\n\nWe are pleased to share the December 2026 yield forecast for Tanzania. This report, supported by AGRA PIATA and COMESA RFBS Initiative, covers projected yields for beans, rice, and maize. Explore the full bulletin at the following link: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html\n\nBest regards,\nAgricultural Development Team"}, "casual": {"subject": "Check Out Tanzania\'s December Yield Forecast", "body": "Hi there,\n\nWe have just released the December 2026 yield forecast for Tanzania. Curious about how rice and maize might perform? Get the full details here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html\n\nCheers,\nYour Agricultural Team"}, "data": {"subject": "Data-Driven Insights: December 2026 Yield Forecast", "body": "Hello,\n\nOur December 2026 yield forecast for Tanzania reveals expected growth in rice and maize yields. Supported by AGRA PIATA and COMESA RFBS Initiative, this report provides critical insights for stakeholders. Access the full data here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html\n\nRegards,\nData Analysis Team"}}, "medium": {"title": "December 2026 Yield Forecast: Tanzania\'s Agricultural Prospects", "subtitle": "Analyzing the projected performance of beans, rice, and maize", "opening": "As December 2026 approaches, Tanzania\'s agricultural sector looks towards promising projections for its staple crops. This forecast, supported by AGRA PIATA and the COMESA RFBS Initiative, offers valuable insights for stakeholders across the region.", "key_points": ["Tanzania\'s rice and maize yields are expected to grow, indicating a positive trend for local agriculture.", "The report is supported by major initiatives including AGRA PIATA and COMESA RFBS.", "Stakeholders can explore detailed projections for beans, rice, and maize in the full bulletin."]}, "instagram": {"caption": "Discover the December 2026 yield forecast for Tanzania. What do the trends mean for your farm? Dive into the details. #Agriculture #Tanzania #FarmLife", "story_text": "Tanzania\'s Yield Outlook", "hashtags": ["#Agriculture", "#Tanzania", "#FarmLife"]}, "hashtags": ["#FoodSecurity", "#Agriculture", "#Tanzania", "#YieldForecast", "#AGRA", "#COMESA"], "stats": {"total_countries": 1, "total_crops": 1, "highlights": [], "warnings": [], "top_performers": [], "watch_regions": []}};
const BULLETIN_URL = "https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html";
const BULLETIN_MONTH = "December";
const BULLETIN_YEAR = 2026;

const PLATFORM_LIMITS = {
    twitter: 280,
    linkedin: 3000,
    whatsapp: 1000,
    facebook: 500,
    telegram: 1000,
    instagram: 2200,
    medium: 5000,
    email: 5000
};

let currentPlatform = 'twitter';
let currentTone = 'formal';

function openShareModal() {
    document.getElementById('share-modal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
    selectPlatform('twitter');
    updateHashtags();
}

function closeShareModal() {
    document.getElementById('share-modal').style.display = 'none';
    document.body.style.overflow = '';
}

function selectPlatform(platform) {
    currentPlatform = platform;
    
    document.querySelectorAll('.platform-btn-v2').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.platform === platform);
    });
    
    // Show/hide Medium extra section
    const mediumExtra = document.getElementById('medium-extra');
    if (platform === 'medium') {
        mediumExtra.style.display = 'block';
        updateMediumFields();
    } else {
        mediumExtra.style.display = 'none';
    }
    
    updatePreview();
}

function selectTone(tone) {
    currentTone = tone;
    
    document.querySelectorAll('.tone-btn-v2').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.tone === tone);
    });
    
    updatePreview();
}

function updatePreview() {
    const textarea = document.getElementById('share-text');
    let text = '';
    
    try {
        if (currentPlatform === 'email') {
            const emailData = SOCIAL_DATA.email?.[currentTone];
            if (emailData) {
                text = `Subject: ${emailData.subject}\n\n${emailData.body}\n\n${BULLETIN_URL}`;
            }
        } else if (currentPlatform === 'medium') {
            const mediumData = SOCIAL_DATA.medium;
            if (mediumData) {
                text = `${mediumData.title}\n\n${mediumData.opening}\n\nRead more: ${BULLETIN_URL}`;
            }
        } else if (currentPlatform === 'instagram') {
            const igData = SOCIAL_DATA.instagram;
            if (igData) {
                text = currentTone === 'data' ? 
                    `${igData.caption}\n\n${igData.hashtags?.join(' ') || ''}` :
                    igData.caption + '\n\n' + (igData.hashtags?.join(' ') || '');
            }
        } else {
            const platformData = SOCIAL_DATA[currentPlatform];
            if (platformData?.[currentTone]) {
                text = platformData[currentTone] + '\n\n' + BULLETIN_URL;
            }
        }
    } catch (e) {
        text = `${BULLETIN_MONTH} ${BULLETIN_YEAR} Yield Forecast Bulletin now available.\n\n${BULLETIN_URL}`;
    }
    
    if (!text) {
        text = `${BULLETIN_MONTH} ${BULLETIN_YEAR} Yield Forecast Bulletin now available.\n\n${BULLETIN_URL}`;
    }
    
    textarea.value = text;
    
    const charCount = text.length;
    const limit = PLATFORM_LIMITS[currentPlatform] || 1000;
    document.getElementById('char-count').textContent = `${charCount} characters`;
    document.getElementById('platform-limit').textContent = charCount > limit ? `Exceeds ${limit} limit` : `Limit: ${limit}`;
    document.getElementById('platform-limit').style.color = charCount > limit ? '#c53030' : '';
}

function updateMediumFields() {
    const mediumData = SOCIAL_DATA.medium;
    if (mediumData) {
        document.getElementById('medium-title').value = mediumData.title || '';
        document.getElementById('medium-subtitle').value = mediumData.subtitle || '';
        
        const pointsList = document.getElementById('medium-points');
        pointsList.innerHTML = '';
        (mediumData.key_points || []).forEach(point => {
            const li = document.createElement('li');
            li.textContent = point;
            pointsList.appendChild(li);
        });
    }
}

function updateHashtags() {
    const container = document.getElementById('hashtag-list');
    const hashtags = SOCIAL_DATA.hashtags || ['#FoodSecurity', '#Agriculture', '#Africa', '#COMESA'];
    
    container.innerHTML = hashtags.map(tag => 
        `<span onclick="addHashtag('${tag}')">${tag}</span>`
    ).join('');
}

function addHashtag(tag) {
    const textarea = document.getElementById('share-text');
    if (!textarea.value.includes(tag)) {
        textarea.value = textarea.value.trim() + ' ' + tag;
        updatePreview();
    }
}

function copyShareText() {
    const textarea = document.getElementById('share-text');
    navigator.clipboard.writeText(textarea.value).then(() => {
        document.getElementById('copy-icon').textContent = 'check_circle';
        document.getElementById('copy-text').textContent = 'Copied!';
        setTimeout(() => {
            document.getElementById('copy-icon').textContent = 'content_copy';
            document.getElementById('copy-text').textContent = 'Copy Text';
        }, 2000);
    });
}

function shareNow() {
    const text = encodeURIComponent(document.getElementById('share-text').value);
    const url = encodeURIComponent(BULLETIN_URL);
    
    let shareUrl = '';
    
    switch(currentPlatform) {
        case 'twitter':
            shareUrl = `https://twitter.com/intent/tweet?text=${text}`;
            break;
        case 'linkedin':
            shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
            break;
        case 'whatsapp':
            shareUrl = `https://wa.me/?text=${text}`;
            break;
        case 'facebook':
            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
            break;
        case 'telegram':
            shareUrl = `https://t.me/share/url?url=${url}&text=${text}`;
            break;
        case 'instagram':
            // Instagram doesn't have direct share URL, copy to clipboard
            copyShareText();
            alert('Caption copied! Open Instagram to paste.');
            return;
        case 'medium':
            shareUrl = `https://medium.com/new-story`;
            copyShareText();
            break;
        case 'email':
            const emailData = SOCIAL_DATA.email?.[currentTone];
            if (emailData) {
                shareUrl = `mailto:?subject=${encodeURIComponent(emailData.subject)}&body=${text}`;
            }
            break;
    }
    
    if (shareUrl) {
        window.open(shareUrl, '_blank', 'width=600,height=500');
    }
}

// Close on Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeShareModal();
});
</script>

<!-- Floating Share Button -->
<button class="bulletin-share-btn-v2" onclick="openShareModal()">
    <span class="material-symbols-outlined">share</span>
    <span>Share Bulletin</span>
</button>

</body>
</html>
```