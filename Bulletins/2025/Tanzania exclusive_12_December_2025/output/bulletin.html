<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Crop Yield Forecast Estimates – December</title>

<style>
/* ---------- Reset / Base ---------- */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height:1.6; color:#333; background:#f5f5f5; }
a { color:#2c5530; text-decoration:none; }

/* ---------- Layout Shell ---------- */
.container { max-width:1200px; margin:0 auto; background:#fff; box-shadow:0 0 20px rgba(0,0,0,0.08); }
.header { background:linear-gradient(135deg, #2c5530, #4a7c4e); color:#fff; padding:2rem; text-align:center; }
.header h1 { font-size:2.5rem; font-weight:300; margin-bottom:.25rem; }
.header .subtitle { font-size:1.1rem; opacity:.9; margin-bottom:.75rem; }
.header .organizations { font-size:.9rem; opacity:.85; }

/* Banner ribbon (logos strip) */
.banner { background:#2f5f39; color:#fff; padding:14px 10px 8px; text-align:center; }
.banner .line1 { font-size:.95rem; opacity:.95; }
.banner .line2 { font-size:.95rem; opacity:.9; margin-top:2px; }
.banner .logos { display:flex; gap:16px; justify-content:center; align-items:center; padding:10px 8px 8px; }
.banner .logos img { height:36px; width:auto; object-fit:contain; filter: drop-shadow(0 1px 1px rgba(0,0,0,.15)); }

/* ---------- Nav ---------- */
.nav { background:#1a4a1e; padding:.75rem 0; position:sticky; top:0; z-index:100; }
.nav ul { list-style:none; display:flex; justify-content:center; flex-wrap:wrap; }
.nav li { margin:0 .75rem; }
.nav a { color:#fff; padding:.45rem .75rem; border-radius:4px; }
.nav a:hover, .nav a.active { background:rgba(255,255,255,0.18); }

/* ---------- Sections ---------- */
.content { padding:2rem; }
.section { margin-bottom:3rem; }
.section h2 { color:#2c5530; font-size:2rem; margin-bottom:1rem; border-bottom:3px solid #4a7c4e; padding-bottom:.5rem; }
.section h3 { color:#1a4a1e; font-size:1.5rem; margin:1.5rem 0 1rem; }
.section h4 { color:#2c5530; font-size:1.1rem; margin:1rem 0 .5rem; }

/* ---------- Cards / Highlights ---------- */
.executive-summary { background:#f8f9fa; padding:1.5rem; border-left:5px solid #4a7c4e; margin:1rem 0 2rem; }
.data-highlight { background:#e8f5e8; padding:1rem; border-radius:8px; margin:1rem 0; }

/* ---------- Country Blocks ---------- */
.country-section { border:1px solid #ddd; border-radius:8px; margin:2rem 0; overflow:hidden; }
.country-header { background:linear-gradient(135deg, #4a7c4e, #2c5530); color:#fff; padding:1.25rem 1.5rem; }
.country-header h3 { margin:0; font-size:1.6rem; }
.country-content { padding:1.5rem; }

/* ---------- Tables ---------- */
table { width:100%; border-collapse:collapse; margin:1rem 0; background:#fff; border-radius:8px; overflow:hidden;
        box-shadow:0 2px 10px rgba(0,0,0,0.06); }
th { background:linear-gradient(135deg, #4a7c4e, #2c5530); color:#fff; padding:0.85rem; text-align:left; font-weight:600; }
td { padding:0.75rem 0.9rem; border-bottom:1px solid #eee; }
tr:nth-child(even) { background:#f8f9fa; }
tr:hover { background:#e8f5e8; transition:background .25s; }

/* Condition chips */
.condition-poor { background:#ffebee; color:#c62828; }
.condition-watch { background:#fff8e1; color:#f57c00; }
.condition-favorable { background:#e8f5e9; color:#2e7d32; }
.condition-exceptional { background:#e3f2fd; color:#1565c0; }

/* ---------- Figures ---------- */
.figure-container { text-align:center; margin:1.75rem 0; }
.figure-container img { max-width:100%; height:auto; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.08); }
.figure-caption { font-style:italic; color:#666; margin-top:.75rem; padding:0 1rem; }
.figure-caption h4 { color:#2c5530; font-size:1.05rem; margin-bottom:.35rem; font-style:normal; }
/* ---------- STRICT 2-UP MAP GRID ---------- */
.figure-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:16px;
  align-items:start;
  margin:1rem 0 1.75rem;
}

.figure-grid img{
  width:100%;
  height:520px;
  object-fit:contain;   /* no cropping */
  background:#fff;
  border-radius:8px;
}

.figure-placeholder{
  width:100%;
  height:420px;
  border:2px dashed #d6e3db;
  border-radius:8px;
  background:#f8fbf9;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#7a8f86;
  font-style:italic;
  font-size:14px;
}

/* ---------- Comparison table (Executive Summary) ---------- */
.exec-table { margin-top:.75rem; }
.exec-table th, .exec-table td { white-space:nowrap; }

/* ---------- Footer ---------- */
.disclaimer { background:#f8f9fa; border:1px solid #ddd; border-radius:8px; padding:1.25rem; font-size:.92rem; color:#666; }

/* ---------- D3 Chart UI (updated) ---------- */
.chart-wrap{
  margin: 10px auto 26px;
  display:flex; flex-direction:column; align-items:center; gap:12px;
  max-width:980px;   /* centers + constrains chart area */
}
.button-row { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:6px 0; }
.pill{
  border:none; padding:12px 20px; border-radius:999px; cursor:pointer;
  font-size:16px; font-weight:600; letter-spacing:.2px; color:#1b4332; background:#e8f0f2;
  box-shadow:0 2px 6px rgba(0,0,0,.08); transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.pill:hover{ transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.12); }
.pill.is-active{ background:#c5d6db; /* darker than neutral */
  color:#0e2f24;
  outline:2px solid #1b4332; /* stronger ring */
  box-shadow:inset 0 0 0 2px rgba(27,67,50,.35), 0 4px 10px rgba(0,0,0,.10);
}
.pill.crop.is-active{ background:#b9d1d7; color:#083125; }
.pill.source[data-src="All"]{ background:#e3eaee; color:#22323a; }
.pill.source.usda{ background:#2c7bb6; color:#fff; }
.pill.source.fao{  background:#f4a259; color:#fff; }
.pill.source.umd-xylemlab{  background:#1a9850; color:#fff; }

#d3-prod-chart{ display:block; margin:0 auto; }

.tooltip {
  position:fixed; pointer-events:none; background:#ffffff; color:#263238; border:1px solid #ddd;
  border-radius:10px; padding:10px 12px; font-size:12px; box-shadow:0 8px 20px rgba(0,0,0,.12); opacity:0; transition:opacity .12s;
}

/* Axis look: larger, darker */
.axis text{ fill:#28352b; font-size:14px; }
.axis path, .axis line{ stroke:#9ab19d; stroke-width:1; }
.y-title{ fill:#2c5530; font-weight:700; font-size:14px; }

/* ---- Chips / region selector ---- */
.control-row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:center; }
.region-input{ padding:10px 12px; border:1px solid #c9d5cf; border-radius:10px; min-width:240px; font-size:14px; }
.chips{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:6px; }
.chip{ background:#edf4ee; color:#134e4a; border:1px solid #cfe3d8; padding:6px 10px; border-radius:999px; font-size:13px; display:flex; align-items:center; gap:6px; }
.chip button{ border:none; background:transparent; cursor:pointer; font-size:14px; color:#0b3d35; line-height:1; }
.small-note{ font-size:12px; color:#6b7f73; text-align:center; margin-top:2px; }

/* ---------- Regional Table Filters + Sorting ---------- */
.filter-row { 
  display:flex; gap:12px; margin:12px 0; flex-wrap:wrap; 
}
.filter-row label { font-weight:600; margin-right:6px; }
.filter-row select { padding:6px 10px; border:1px solid #aaa; border-radius:6px; }

th.sortable { cursor:pointer; position:relative; }
th.sortable:after {
  content:"⇅"; position:absolute; right:8px; font-size:.8rem; opacity:.6;
}
.filter-actions {
  margin-left: auto;
}

.download-btn {
  background: linear-gradient(135deg, #2c5530, #4a7c4e);
  color: #fff;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.download-btn:hover {
  background: linear-gradient(135deg, #35643b, #5a8d59);
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* ---------- Season Labels (Msimu / Vuli / etc.) ---------- */
.season-tag{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  letter-spacing:.2px;
  background:#edf4ee;
  color:#1a4a1e;
  border:1px solid #cfe3d8;
  margin-left:8px;
  vertical-align:middle;
}

.season-note{
  font-size:0.92rem;
  color:#4f5f55;
  margin-top:8px;
}

</style>

<!-- D3 (once) -->
<script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<div class="container">

  <!-- Header -->
  <header class="header">
    <h1>Crop Yield Forecast Estimates</h1>
    <div class="subtitle">December</div>
  </header>

  <!-- Partner banner -->
  <div class="banner">
    <div class="line1">Partnership for Inclusive Agricultural Transformation in Africa (PIATA)</div>
    <div class="line2">The Regional Food Balance Sheet</div>
    <div class="logos">
      <img src="../data/static/AGRA_Banner.png" alt="Partner Logos" style="width:100%; max-width:900px; height:auto; object-fit:contain;">
    </div>
  </div>

  <!-- Nav -->
  <nav class="nav">
    <ul>
      <li><a href="#overview" class="active">Overview</a></li>
      <li><a href="#executive-summary">Executive Summary</a></li>
      
      <li><a href="#tanzania">Tanzania</a></li>
      
      <li><a href="#appendix">Appendix</a></li>
    </ul>
  </nav>

  <main class="content">

    <!-- Overview -->
    <section id="overview" class="section">
      <h2>Overview</h2>
      <p>This report summarizes yield, acreage, and total production estimates for <strong>maize, rice, and beans</strong> across focus countries. The data is updated monthly in the RFBS Dashboard via a standard data file. Our model reports on the main growing season for countries with available historical yield data for model training.</p>

      <h3>Data Limitations and Model Caveats</h3>
      <p>The data used in this report has limitations due to gaps in historical records and variations in data collection methods:</p>
      <ul style="margin-left:1.25rem;">
        <li>Historical data accuracy and consistency vary by country</li>
        <li>Our model reflects these data gaps, as it is trained on available information</li>
        <li>We view these limitations as opportunities to improve data sharing and scaling methods with our country partners</li>
      </ul>

      <div class="data-highlight">
        <p><strong>Current Focus:</strong> Data presented this month focuses on maize, rice and bean systems in <strong>Tanzania</strong>, which are currently in season.</p>
      </div>
    
      <div class="data-highlight">
  	<p><strong>Note on excluded countries:</strong> Uganda, Kenya, and Northern Tanzania are excluded from this month's report because they are <strong>post-harvest / out of season</strong>. Once harvesting begins, vegetation indices (NDVI/EVI) are not reliable for predicting yield.</p>
      </div>
    </section>
    <!-- Executive Summary -->
    <section id="executive-summary" class="section">
      <h2>Executive Summary</h2>

      <div class="executive-summary">
        <p>Current projections for December 2025 maize, beans and rice production in East Africa show varying forecasts between USDA, FAO and UMD-XylemLab models, as summarized in Table and Figure below. For maize in Tanzania, USDA and FAO estimates indicate higher production with ranges of 7.0 to 8.0 million MT driven by larger reported area and higher yields, whereas UMD-XylemLab shows a lower and wider range of 3.3 to 7.32 million MT, reflecting its smaller geographic scope and possibly more localized data inputs. Rice production estimates reveal a significant disparity: USDA and FAO report approximately 3.6 to 3.8 million MT in Tanzania, while UMD-XylemLab shows no production, likely due to model restrictions or focusing only on certain zones. Similarly, beans are reported as zero production by UMD-XylemLab for Tanzania, suggesting exclusion in coverage or data availability issues. These contrasts highlight differences in seasonal and regional reporting, as well as model sensitivity to specific agroecological zones. Overall, the regional picture reflects stable to moderately variable maize production with pronounced discrepancies in rice and beans, underscoring the need for harmonized data integration across models for a comprehensive East African forecast.</p>
      </div>

      <!-- All Sources Interactive Chart -->
      <h3>All Sources Interactive Chart</h3>
      <div class="chart-wrap">
        <div id="crop-buttons" class="button-row"></div>
        <div id="source-buttons" class="button-row" style="margin-top:4px;"></div>
        <svg id="d3-prod-chart" width="980" height="480"></svg>
      </div>
      <div id="d3-tooltip" class="tooltip"></div>
      <!-- After the chart container -->
              <div id="all-sources-chart"></div>

              
              <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
     	<strong>Note:</strong> 
    	
        	   * Tanzania data represents Msimu season only.
    	
      </div>
              

      <script>
        // Combined UMD + non-UMD rows injected by Python
        const rows = [{"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "USDA", "Area": 4.0, "Yield": 1.75, "MinProd": 7.0, "MaxProd": 7.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "FAO", "Area": 4.2, "Yield": 1.9, "MinProd": 8.0, "MaxProd": 8.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "USDA", "Area": 1.1, "Yield": 3.37, "MinProd": 3.8, "MaxProd": 3.8, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "FAO", "Area": 1.2, "Yield": 3.0, "MinProd": 3.58, "MaxProd": 3.58, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Beans", "Source": "UMD-XylemLab", "Area": 0.0, "Yield": 0.83, "MinProd": 0.0, "MaxProd": 0.0, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Maize", "Source": "UMD-XylemLab", "Area": 3.39, "Yield": 1.63, "MinProd": 3.3, "MaxProd": 7.32, "SeasonNote": "Msimu"}, {"Country": "Tanzania*", "OriginalCountry": "Tanzania", "Crop": "Rice", "Source": "UMD-XylemLab", "Area": 0.0, "Yield": 1.33, "MinProd": 0.0, "MaxProd": 0.0, "SeasonNote": "Msimu"}];

        // Colors per source
        const sourceColors = { USDA:"#2c7bb6", FAO:"#f4a259", "UMD-XylemLab":"#1a9850" };

        // State
        const crops   = Array.from(new Set(rows.map(d => d.Crop)));
        const sources = ["All", ...Array.from(new Set(rows.map(d => d.Source)))];
        let activeCrop   = crops[0] || "Maize";
        let activeSource = "All";

        // Crop buttons (neutral)
        const cropBtnSel = d3.select("#crop-buttons")
          .selectAll("button")
          .data(crops)
          .join("button")
            .attr("class","pill crop")
            .classed("is-active", d => d === activeCrop)
            .text(d => d)
            .on("click", (_, d) => { activeCrop=d; cropBtnSel.classed("is-active", x=>x===activeCrop); update(); });

        // Source buttons (colored)
        const srcBtnSel = d3.select("#source-buttons")
          .selectAll("button")
          .data(sources)
          .join("button")
            .attr("class", d => {
        		if (d === "All") return "pill source";
        		if (d === "UMD-XylemLab") return "pill source umd-xylemlab";  // Changed
        		return "pill source " + d.toLowerCase();
    	    })
            .attr("data-src", d => d)
            .style("background", d => d==="All" ? "#e3eaee" : (sourceColors[d]||"#888"))
            .style("color", d => d==="All" ? "#22323a" : "#fff")
            .classed("is-active", d => d === activeSource)
            .text(d => d)
            .on("click", (_, d) => { activeSource=d; srcBtnSel.classed("is-active", x=>x===activeSource); update(); });

        // Chart scaffold
        const svg = d3.select("#d3-prod-chart");
        const margin = {top: 16, right: 24, bottom: 64, left: 80};
        const W = +svg.attr("width")  - margin.left - margin.right;
        const H = +svg.attr("height") - margin.top  - margin.bottom;
        const g  = svg.append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const gx = g.append("g").attr("class","axis").attr("transform", `translate(0,${H})`);
        const gy = g.append("g").attr("class","axis");
        g.append("text").attr("class","y-title")
          .attr("x",-H/2).attr("y",-56).attr("transform","rotate(-90)")
          .attr("text-anchor","middle")
          .text("Production (Million MT)");

        const x = d3.scaleBand().padding(0.36).range([0, W]); // wider cat spacing
        const y = d3.scaleLinear().range([H, 0]);

        const barLayer = g.append("g");
        const errLayer = g.append("g");
        const capLayer = g.append("g");
        const tooltip  = d3.select("#d3-tooltip");

        function update(){
          let data = rows.filter(r => r.Crop === activeCrop);
          if (activeSource !== "All") data = data.filter(r => r.Source === activeSource);

          // Aggregate per Country+Source
          const grouped = d3.rollups(
            data,
            v => ({
              Country: v[0].Country,
              Source : v[0].Source,
              Crop   : v[0].Crop,
              mean   : d3.mean(v, d => (d.MinProd + d.MaxProd)/2),
              min    : d3.mean(v, d => d.MinProd),
              max    : d3.mean(v, d => d.MaxProd),
              area   : d3.sum(v, d => d.Area),
              yld    : d3.mean(v, d => d.Yield)
            }),
            d => d.Country, d => d.Source
          );

          const flat = [];
          grouped.forEach(([country, arr]) => arr.forEach(([src,val]) => flat.push(val)));

          const countries = Array.from(new Set(flat.map(d => d.Country)));
          x.domain(countries);
          y.domain([0, Math.max(1, d3.max(flat, d => d.max) * 1.15 || 0.5)]).nice();

          // Geometry
          const srcsInView = (activeSource === "All")
            ? Array.from(new Set(flat.map(d => d.Source)))
            : [activeSource];

          const bw = x.bandwidth();
          const xSub = d3.scaleBand().domain(srcsInView).range([0, bw]).paddingInner(0.04).paddingOuter(0.22);
          const SINGLE_WIDTH = Math.min(36, Math.max(18, bw * 0.38));

          function barX(d){
            const bx = x(d.Country) ?? 0;
            if (activeSource === "All") return bx + xSub(d.Source);
            return bx + (bw - SINGLE_WIDTH)/2;
          }
          function barW(){ return activeSource === "All" ? xSub.bandwidth() : SINGLE_WIDTH; }

          // Bars
          const key = d => `${d.Country}__${d.Source}`;
          const bars = barLayer.selectAll("rect.bar").data(flat, key);

          bars.exit().transition().duration(250).attr("y", y(0)).attr("height", 0).remove();

          bars.enter().append("rect")
              .attr("class","bar")
              .attr("rx",3).attr("ry",3)
              .attr("x", d => barX(d))
              .attr("y", y(0)).attr("height", 0).attr("width", barW())
              .attr("fill", d => sourceColors[d.Source] || "#888")
              .attr("opacity", activeSource==="All" ? 0.9 : 0.95)
            .merge(bars)
              .transition().duration(450)
              .attr("x", d => barX(d))
              .attr("width", barW())
              .attr("y", d => y(d.mean))
              .attr("height", d => Math.max(0, y(0) - y(d.mean)));

          // Error bars — UMD only, vertical with caps, not touching axis
          const umdOnly = flat.filter(d => d.Source === "UMD-XylemLab" && (d.max - d.min) > 1e-6);

          const errs = errLayer.selectAll("line.err").data(umdOnly, key);
          errs.exit().remove();
          errs.enter().append("line")
              .attr("class","err")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(errs)
              .transition().duration(450)
              .attr("x1", d => barX(d) + barW()/2)
              .attr("x2", d => barX(d) + barW()/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.min));

          const capW = d => Math.max(8, barW() * 0.45);
          const capsTop = capLayer.selectAll("line.capTop").data(umdOnly, key);
          capsTop.exit().remove();
          capsTop.enter().append("line")
              .attr("class","capTop")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsTop)
              .transition().duration(450)
              .attr("x1", d => barX(d) + (barW() - capW())/2)
              .attr("x2", d => barX(d) + (barW() + capW())/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.max));

          const capsBot = capLayer.selectAll("line.capBot").data(umdOnly, key);
          capsBot.exit().remove();
          capsBot.enter().append("line")
              .attr("class","capBot")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsBot)
              .transition().duration(450)
              .attr("x1", d => barX(d) + (barW() - capW())/2)
              .attr("x2", d => barX(d) + (barW() + capW())/2)
              .attr("y1", d => y(d.min))
              .attr("y2", d => y(d.min));

          // Tooltip (only show min–max for UMD)
          barLayer.selectAll("rect.bar")
            .on("pointerenter", function (event, d) {
              d3.select(this).attr("opacity", 1);
              tooltip.style("opacity",1).html(`
                <div style="font-weight:700;margin-bottom:4px;">${d.Country}</div>
                <div>Crop: <b>${d.Crop}</b></div>
                <div>Source: <b>${d.Source}</b></div>
                <div>Mean prod: <b>${d.mean.toFixed(2)}</b> M MT</div>
                ${d.Source==='UMD-XylemLab' ? `<div>Min–Max: <b>${d.min.toFixed(2)} – ${d.max.toFixed(2)}</b> M MT</div>` : ``}
                <div>Area: <b>${d.area.toFixed(2)}</b> M ha</div>
                <div>Yield: <b>${d.yld.toFixed(2)}</b> MT/ha</div>
              `);
            })
            .on("pointermove", function (event) {
              const [px, py] = d3.pointer(event, document.body);
              tooltip.style("left", (px+14)+"px").style("top", (py-10)+"px");
            })
            .on("pointerleave", function(){
              d3.select(this).attr("opacity", activeSource==="All" ? 0.9 : 0.95);
              tooltip.style("opacity",0);
            });

          // Axes (styled via CSS .axis rules)
          gx.transition().duration(350).call(d3.axisBottom(x));
          gy.transition().duration(350).call(d3.axisLeft(y).ticks(6));
        }

        update();
      </script>

      <!-- Comparison table (rows pre-rendered by Python) -->
      <h3>All Sources Comparison Table</h3>
      <table class="exec-table">
        <thead>
          <tr>
            <th>Country</th><th>Crop</th><th>Source</th>
            <th>Area (Million ha)</th><th>Yield (MT/ha)</th><th>Min - Max Production (Million MT)</th>
          </tr>
        </thead>
        <tbody>
          
          <tr>
            
              <td rowspan="7"><strong>Tanzania</strong></td>
            
            
              <td rowspan="3"><strong>Maize</strong></td>
            
            <td style="color:#2c7bb6;">
              USDA
            </td>
            <td>4.0</td>
            <td>1.75</td>
            <td>7.0</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#f4a259;">
              FAO
            </td>
            <td>4.2</td>
            <td>1.9</td>
            <td>8.0</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>3.39</td>
            <td>1.63</td>
            <td>3.3 - 7.32</td>
          </tr>
          
          <tr>
            
            
              <td rowspan="3"><strong>Rice</strong></td>
            
            <td style="color:#2c7bb6;">
              USDA
            </td>
            <td>1.1</td>
            <td>3.37</td>
            <td>3.8</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#f4a259;">
              FAO
            </td>
            <td>1.2</td>
            <td>3.0</td>
            <td>3.58</td>
          </tr>
          
          <tr>
            
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>0.0</td>
            <td>1.33</td>
            <td>0.0 - 0.0</td>
          </tr>
          
          <tr>
            
            
              <td rowspan="1"><strong>Beans</strong></td>
            
            <td style="color:#1a9850;">
              UMD-XylemLab
            </td>
            <td>0.0</td>
            <td>0.83</td>
            <td>0.0 - 0.0</td>
          </tr>
          
        </tbody>
      </table>
    </section>

    <!-- Country Chapters built by Python (kept as-is) -->
    <section class="section" id="country-summary">
  <section class="section" id="country-summary">
<h2>Regional Overview/Conditions</h2>
<h3>Country Summary</h3>
<ul class="data-highlight" style="list-style:disc;padding-left:22px;">
<li><strong>Tanzania:</strong> In December, bean yields in the Msimu season regions showed stable to improving trends. Specifically, conditions improved in Iringa, Kigoma, Mbeya, Mtwara, Rukwa, and Ruvuma, while remaining stable elsewhere. Predicted yield anomalies were positive across all regions, ranging from 0.052 in Njombe to a high of 0.272 in Arusha (Vuli season). Similarly, maize in Msimu regions generally exhibited stable or improving trends. The highest yields were recorded in Katavi (2.49 MgT/ha) and Rukwa (2.09 MgT/ha), with positive anomalies reaching 0.397 in Ruvuma; trends in Dodoma and Singida remained notably stable. Rice conditions were more mixed; while most regions maintained stable trends with near-zero anomalies, declining trends were observed in Dodoma, Mtwara, Njombe, Singida, and Pwani, though anomalies remained near zero or slightly negative. No alarming conditions were flagged based on predicted anomalies, but the declining trends in rice warrant monitoring.</li>
<li><strong>Malawi:</strong> Crop conditions remained generally stable across Malawi's key crops of beans, maize, and rice. Beans showed stable trends in all regions, with predicted yield anomalies ranging from 0.006 in the Central Region to 0.107 in the Northern Region, indicating no alarming deviations. Maize exhibited improving trends in every region, with positive yield anomalies from 0.342 in the Central to 0.506 in the Northern Region, signaling favorable growing conditions. Rice conditions were stable, characterized by slight negative anomalies in the Southern (-0.006) and Northern (-0.01) Regions, and a small positive anomaly (0.039) in the Central Region; however, no adverse flags were raised. Despite this positive outlook, the Southern Region’s beans recorded the lowest predicted yield at 0.52 Mg/ha compared to higher values in the North and Central, warranting cautious monitoring.</li>
<li><strong>Zambia:</strong> Maize crop conditions were mostly favorable or improving, especially in Central, Luapula, Northern, and North-Western regions. In these areas, predicted yield anomalies ranged from 0.266 to 0.478, supported by stable or improving trends. In contrast, the Southern and Western regions recorded comparatively lower yields and, while trends remained stable, they exhibited less favorable performance overall. Bean conditions remained generally stable across most regions. Positive yield anomalies were noted in the Northern (0.121), Luapula (0.099), and Western (0.167) regions; however, the Southern region showed a declining trend despite maintaining a slight positive anomaly of 0.057. Rice conditions showed mixed signals with stable to declining trends. Yield anomalies were slightly negative or near zero in Central (-0.064), Lusaka (-0.064), and Southern (-0.038) regions, with notable declining trends in Southern and Lusaka. Conversely, the Eastern, North-Western, and Western regions maintained stable trends with minor positive or near-zero anomalies.</li>
<li><strong>Rwanda:</strong> Beans remained stable across all five regions, with positive yield anomalies ranging from 0.076 MgT/ha in Amajyepfo to 0.173 MgT/ha in Umujyi Wa Kigali. Maize exhibited improving trends and high positive yield anomalies (between 0.252 and 0.277 MgT/ha) across all monitored regions, indicating strong crop vigor. Rice, however, displayed declining trends in four out of five regions. Only Amajyepfo recorded a slight positive anomaly of (0.048 MgT/ha), while Umujyi Wa Kigali showed the lowest anomaly at 0.008 MgT/ha. These declining trends in rice necessitate close monitoring.</li>
</ul></section>
<div class="country-section" id="tanzania">
  <div class="country-header">
    <h3>Tanzania</h3>
  </div>
  <div class="country-content">
    <div class="figure-container">
      <img src="../data/calendars/Tanzania.png" alt="Tanzania Agricultural Calendar">
      <div class="figure-caption">
        <h4>Figure: Agricultural Calendar – Tanzania</h4>
            <p>As of December 2025, Tanzania’s agricultural calendar includes both the unimodal Msimu season covering November to July in the south and the bimodal Vuli season from October to February in the north. The Msimu season is currently in the early stage post-planting with harvest expected from May to July, while the Vuli season is in mid-growth with harvest planned for January to February.</p>
      </div>
    </div>
    <h4>Regional Crop Conditions Summary</h4>
    <p>In December, bean yields in the Msimu season regions showed stable to improving trends. Specifically, conditions improved in Iringa, Kigoma, Mbeya, Mtwara, Rukwa, and Ruvuma, while remaining stable elsewhere. Predicted yield anomalies were positive across all regions, ranging from 0.052 in Njombe to a high of 0.272 in Arusha (Vuli season). Similarly, maize in Msimu regions generally exhibited stable or improving trends. The highest yields were recorded in Katavi (2.49 MgT/ha) and Rukwa (2.09 MgT/ha), with positive anomalies reaching 0.397 in Ruvuma; trends in Dodoma and Singida remained notably stable. Rice conditions were more mixed; while most regions maintained stable trends with near-zero anomalies, declining trends were observed in Dodoma, Mtwara, Njombe, Singida, and Pwani, though anomalies remained near zero or slightly negative. No alarming conditions were flagged based on predicted anomalies, but the declining trends in rice warrant monitoring.</p>
<button class="pill" onclick="location.href='#regional-table-tanzania'">
  View Regional Production Forecast Table
</button>
    <div class="figure-container">
      <img src="tanzania_production_part1.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 1)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part2.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 2)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part3.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 3)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part4.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 4)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="tanzania_production_part5.png" alt="Tanzania mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Tanzania (Part 5)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <h4>Rice Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Rice_December_Yield_Msimu.png" alt="Tanzania Rice December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Forecasts — Msimu</h4>
          <p>In December 2025, Tanzania's Msimu rice yield prediction recorded the highest yields in Rukwa (1.68 MgT/ha) and Kigoma (2.01 MgT/ha) regions, with the lowest yield in Singida at 0.88 MgT/ha. The yield gradient ranged from a low of 0.88 MgT/ha in Singida to a high of 2.01 MgT/ha in Kigoma, highlighting significant regional variability.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Rice_December_Yield_Anomaly_Msimu.png" alt="Tanzania Rice December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Anomaly — Msimu</h4>
          <p>In December 2025, the Tanzania Msimu rice season recorded the highest positive yield anomaly in Songwe at 0.07 MgT/ha, while Rukwa and Iringa noted the most significant negative anomalies at -0.04 MgT/ha. Regions like Dodoma and Tabora also recorded above-average yields, contrasting with below-average yields in Singida.</p>
        </div></div>
    </div>
    <h4>Maize Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Maize_December_Yield_Msimu.png" alt="Tanzania Maize December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Forecasts — Msimu</h4>
          <p>The December 2025 Tanzania Maize (Msimu season) yield ranged from a high of 2.49 MgT/ha in Kigoma to a low of 0.94 MgT/ha in Mtwara. Most regions recorded yields around or above the average of 1.20 to 1.94 MgT/ha, with Mtwara notably below average.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Maize_December_Yield_Anomaly_Msimu.png" alt="Tanzania Maize December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Anomaly — Msimu</h4>
          <p>In December 2025, Tanzania’s Msimu maize yields showed positive anomalies, notably in Ruvuma (0.40 MgT/ha) and Kigoma/Katavi (0.39 MgT/ha) regions, indicating above-average production levels. Conversely, Dodoma (0.13 MgT/ha) and Mtwara (0.14 MgT/ha) noted the lowest positive anomalies, signaling relatively weaker yield performance.</p>
        </div></div>
    </div>
    <h4>Beans Maps — Msimu</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Beans_December_Yield_Msimu.png" alt="Tanzania Beans December — Msimu Yield Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Forecasts — Msimu</h4>
          <p>In December 2025, bean yields in Tanzania's Msimu season peaked in Iringa (1.02 MgT/ha) and Luku (1.00 MgT/ha), whereas Njombe (0.61 MgT/ha) and Singida (0.65 MgT/ha) recorded the lowest yields, indicating significant regional disparities across the country.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Tanzania_Beans_December_Yield_Anomaly_Msimu.png" alt="Tanzania Beans December — Msimu Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Anomaly — Msimu</h4>
          <p>In December 2025, Kigoma lead Tanzania with the highest positive bean yield anomaly at 0.25 MgT/ha, while Singida showed the largest negative anomaly at 0.05 MgT/ha, indicating below-average yields. The map highlights significant regional variability in bean yields during the Msimu season.</p>
        </div></div>
    </div>
    <h4>Production Narrative</h4>
    <p>Maize dominates production with significant cultivated areas, for example, Tabora has the largest maize area at 291,594 ha, followed by Singida with 155,590 ha, and Shinyanga with 149,364 ha. Predicted maize yields are highest in Rukwa (2.09 MgT/ha) and Katavi (2.49 MgT/ha), resulting in mean production estimates surpassing 230,000 tons and 158,755 tons respectively. Beans production area data is not available, limiting production estimates. Rice is mainly cultivated in bimodal regions without specified areas, so production predictions are limited to yield trends without volume data. Production forecast uncertainties are noted in maize due to high standard errors in some regions like Mbeya (std_error 1.053) and Katavi (std_error 0.519). Overall, maize stands out as the top-performing crop in production volume with generally improving or stable trends, beans follow with stable yields, and rice shows variable but mostly stable to declining trends in coastal zones.</p>
  </div></div>
<div class="country-section" id="malawi">
  <div class="country-header">
    <h3>Malawi</h3>
  </div>
  <div class="country-content">
    <div class="figure-container">
      <img src="../data/calendars/Malawi.png" alt="Malawi Agricultural Calendar">
      <div class="figure-caption">
        <h4>Figure: Agricultural Calendar – Malawi</h4>
        <p>Malawi is currently in the main planting season which spans from November to January, with the main harvest expected between April and July. As of December, crops are in the growth stage following the recent plantings, with harvest preparations underway for the coming months.</p>
      </div>
    </div>
    <h4>Regional Crop Conditions Summary</h4>
    <p>Crop conditions remained generally stable across Malawi's key crops of beans, maize, and rice. Beans showed stable trends in all regions, with predicted yield anomalies ranging from 0.006 in the Central Region to 0.107 in the Northern Region, indicating no alarming deviations. Maize exhibited improving trends in every region, with positive yield anomalies from 0.342 in the Central to 0.506 in the Northern Region, signaling favorable growing conditions. Rice conditions were stable, characterized by slight negative anomalies in the Southern (-0.006) and Northern (-0.01) Regions, and a small positive anomaly (0.039) in the Central Region; however, no adverse flags were raised. Despite this positive outlook, the Southern Region’s beans recorded the lowest predicted yield at 0.52 Mg/ha compared to higher values in the North and Central, warranting cautious monitoring.</p>
<button class="pill" onclick="location.href='#regional-table-malawi'">
  View Regional Production Forecast Table
</button>
    <div class="figure-container">
      <img src="malawi_production_part1.png" alt="Malawi mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Malawi (Part 1)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <h4>Rice Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Malawi_Rice_December_Yield.png" alt="Malawi Rice December Yield Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Forecasts</h4>
          <p>In December 2025, Malawi's Northern Region recorded the highest rice yield prediction at 1.47 MgT ha⁻¹, while the Southern Region had the lowest at 1.19 MgT ha⁻¹, indicating a yield gradient from north (above average) to south (below average). The Central Region yields were intermediate at 1.33 MgT ha⁻¹.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Malawi_Rice_December_Yield_Anomaly.png" alt="Malawi Rice December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Anomaly</h4>
         <p>In December 2025, Malawi's Central Region noted the highest positive rice yield anomaly at +0.04 MgT/ha, signaling above-average yields, whereas the Northern and Southern Regions both experienced slight negative anomalies of -0.01 MgT/ha, reflecting below-average yields. The Central Region stood out as the top-performing area amidst predominantly negative anomalies observed elsewhere in the country.</p>
        </div></div>
    </div>
    <h4>Maize Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Malawi_Maize_December_Yield.png" alt="Malawi Maize December Yield Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Forecasts</h4>
          <p>In December 2025, Malawi’s Central Region recorded the highest predicted maize yield at 2.61 MgT/ha, while the Southern Region has the lowest yield at 2.42 MgT/ha, indicating a yield difference of 0.19 MgT/ha across the country. The Southern Region displayed a low-yield extreme compared to the greener, higher-yielding Central and Northern Regions.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Malawi_Maize_December_Yield_Anomaly.png" alt="Malawi Maize December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Anomaly</h4>
          <p>In December 2025, Malawi's Northern Region noted the highest positive maize yield anomaly at 0.51 MgT/ha, while the Central Region experienced the lowest anomaly at 0.34 MgT/ha, highlighting considerable regional variation in crop performance. The Southern Region yielded a moderate anomaly of 0.43 MgT/ha.</p>
        </div></div>
    </div>
    <h4>Beans Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Malawi_Beans_December_Yield.png" alt="Malawi Beans December Yield Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Forecasts</h4>
          <p>In December 2025, Malawi's Northern Region was the top performer with a predicted bean yield of 0.86 MgT/ha, while the Southern Region showed the lowest yield at 0.52 MgT/ha, highlighting a clear north-to-south gradient in production. The Central Region recorded an intermediate yield of 0.67 MgT/ha.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Malawi_Beans_December_Yield_Anomaly.png" alt="Malawi Beans December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Anomaly</h4>
          <p>In December 2025, the Northern Region of Malawi recorded the highest positive bean yield anomaly at 0.11 MgT ha⁻¹, while the Central Region displayed the lowest anomaly at 0.01 MgT ha⁻¹, with above-average yields in the north and below-average yields in the central area. The Southern Region had a moderate positive anomaly of 0.03 MgT ha⁻¹.</p>
        </div></div>
    </div>
    <h4>Production Narrative</h4>
    <p>Total production area varies by crop and region with maize commanding the largest cultivated area (901,662 ha) in the Central Region, producing a mean predicted output of approximately 2,351,765 tons, followed by 592,161 ha in the Southern (approx. 1,433,590 tons), and 333,215 ha in the Northern Region (approx. 843,691 tons). Maize is the top-performing crop by production volume. Beans are grown on smaller areas, with the Central Region at 181,339 ha yielding around 120,666 tons, Northern Region 67,015 ha with 57,678 tons, and Southern Region 119,093 ha with 61,408 tons. Rice occupies the smallest area, with 39,510 ha in Central producing 52,479 tons, Northern at 14,601 ha yielding 21,479 tons, and Southern at 25,948 ha producing 30,836 tons. Uncertainty is highest in maize production in the Southern Region, reflected by a relatively large standard error (0.558) and a wide range between minimum and maximum predicted production, suggesting variability in yield outcomes. Beans display the narrowest yield and production variability, indicating more consistent forecast confidence.</p>
  </div></div>
<div class="country-section" id="zambia">
  <div class="country-header">
    <h3>Zambia</h3>
  </div>
  <div class="country-content">
    <div class="figure-container">
      <img src="../data/calendars/Zambia.png" alt="Zambia Agricultural Calendar">
      <div class="figure-caption">
        <h4>Figure: Agricultural Calendar – Zambia</h4>
        <p>Zambia is currently in the main crop season spanning November to May. Planting activities began in November, and the crop growth phase is underway. The main harvest period is approaching, expected to start in April and continue through May, marking a critical phase for yield realization and production assessment.</p>
      </div>
    </div>
    <h4>Regional Crop Conditions Summary</h4>
    <p>Maize crop conditions were mostly favorable or improving, especially in Central, Luapula, Northern, and North-Western regions. In these areas, predicted yield anomalies ranged from 0.266 to 0.478, supported by stable or improving trends. In contrast, the Southern and Western regions recorded comparatively lower yields and, while trends remained stable, they exhibited less favorable performance overall. Bean conditions remained generally stable across most regions. Positive yield anomalies were noted in the Northern (0.121), Luapula (0.099), and Western (0.167) regions; however, the Southern region showed a declining trend despite maintaining a slight positive anomaly of 0.057. Rice conditions showed mixed signals with stable to declining trends. Yield anomalies were slightly negative or near zero in Central (-0.064), Lusaka (-0.064), and Southern (-0.038) regions, with notable declining trends in Southern and Lusaka. Conversely, the Eastern, North-Western, and Western regions maintained stable trends with minor positive or near-zero anomalies.</p>
<button class="pill" onclick="location.href='#regional-table-zambia'">
  View Regional Production Forecast Table
</button>
    <div class="figure-container">
      <img src="zambia_production_part1.png" alt="Zambia mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Zambia (Part 1)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <div class="figure-container">
      <img src="zambia_production_part2.png" alt="Zambia mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Zambia (Part 2)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <h4>Rice Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Zambia_Rice_December_Yield.png" alt="Zambia Rice December Yield Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Forecasts</h4>
          <p>In December 2025, Luapula is achieved the highest rice yield in Zambia at 1.42 MgT/ha, while Lusaka recorded the lowest yield at 0.66 MgT/ha. Yield values varied significantly across regions, ranging from 0.66 to 1.42 MgT/ha.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Zambia_Rice_December_Yield_Anomaly.png" alt="Zambia Rice December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Anomaly</h4>
          <p>In December 2025, Luapula noted the largest negative rice yield anomaly at -0.12 MgT/ha, indicating below-average production, while Eastern showed the highest positive anomaly at 0.02 MgT/ha, suggesting above-average yield. Central and Lusaka regions also displayed notable negative anomalies of -0.06 MgT/ha.</p>
        </div></div>
    </div>
    <h4>Maize Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Zambia_Maize_December_Yield.png" alt="Zambia Maize December Yield Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Forecasts</h4>
          <p>In December 2025, Central province was the top-performing maize region in Zambia with an average yield of 2.69 MgT/ha, while the Western province ranked lowest at 0.96 MgT/ha. Notable maize yield extremes ranged from below 1.0 MgT/ha in Western to nearly 2.7 MgT/ha in Central, highlighting significant regional variability.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Zambia_Maize_December_Yield_Anomaly.png" alt="Zambia Maize December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Anomaly</h4>
          <p>In December 2025, Northern and Luapula regions in Zambia achieved the highest positive maize yield anomalies at 0.48 MgT/ha, while Western noted the lowest performance with a negative anomaly near 0.18 MgT/ha, highlighting a significant contrast in regional yield deviations.</p>
        </div></div>
    </div>
    <h4>Beans Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Zambia_Beans_December_Yield.png" alt="Zambia Beans December Yield Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Forecasts</h4>
          <p>In December 2025, Northern Province in Zambia had the highest beans yield at 0.78 MgT/ha, while Southern Province recorded the lowest yield at 0.46 MgT/ha, indicating significant regional yield variability. The map highlights a clear north-to-south gradient from above-average to below-average yields.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Zambia_Beans_December_Yield_Anomaly.png" alt="Zambia Beans December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Anomaly</h4>
          <p>In December 2025, Western Zambia recorded the highest positive bean yield anomaly at 0.17 MgT/ha, highlighting above-average performance, while Eastern Zambia had the lowest yield anomaly at 0.03 MgT/ha, reflecting a notable negative anomaly. The Southern and Eastern regions displayed significant negative anomalies, contrasting with positive anomalies seen in Northern, Central, and Western regions.</p>
        </div></div>
    </div>
    <h4>Production Narrative</h4>
    <p>Maize remains the top-performing crop by production area and tonnage, with the largest areas in Eastern (365,683 ha), Central (344,294 ha), and Southern (257,292 ha) regions. The highest mean predicted maize production is in Central (926,668 tons), Eastern (621,268 tons), and Southern (378,013 tons) regions. Beans production area is much smaller, with the largest areas in Eastern (33,990 ha), Central (32,002 ha), and Southern (23,915 ha) regions; mean predicted production is highest in Central (21,866 tons), Eastern (17,720 tons), and Southern (11,056 tons) regions. Rice has the smallest production areas with top regions being Eastern (12,739 ha), Central (11,994 ha), and Southern (8,963 ha) producing mean predicted tons of 12,638, 9,969, and 7,047 respectively. Notable uncertainties exist in Southern beans with a declining trend and in rice, where Lusaka and Southern regions show declining trends, while maize in improving regions like Central and Luapula shows optimism.</p>
  </div></div>
<div class="country-section" id="rwanda">
  <div class="country-header">
    <h3>Rwanda</h3>
  </div>
  <div class="country-content">
    <div class="figure-container">
      <img src="../data/calendars/Rwanda.png" alt="Rwanda Agricultural Calendar">
      <div class="figure-caption">
        <h4>Figure: Agricultural Calendar – Rwanda</h4>
        <p>Rwanda is currently towards the end of the short rainy season running from September to December. The main agricultural activities this period involve crop growth, with the harvest season beginning in January and extending through February. Predictions made for December provide insights into expected yields and production for the upcoming harvest.</p>
      </div>
    </div>
    <h4>Regional Crop Conditions Summary</h4>
    <p>Beans remained stable across all five regions, with positive yield anomalies ranging from 0.076 MgT/ha in Amajyepfo to 0.173 MgT/ha in Umujyi Wa Kigali. Maize exhibited improving trends and high positive yield anomalies (between 0.252 and 0.277 MgT/ha) across all monitored regions, indicating strong crop vigor. Rice, however, displayed declining trends in four out of five regions. Only Amajyepfo recorded a slight positive anomaly of (0.048 MgT/ha), while Umujyi Wa Kigali showed the lowest anomaly at 0.008 MgT/ha. These declining trends in rice necessitate close monitoring</p>
<button class="pill" onclick="location.href='#regional-table-rwanda'">
  View Regional Production Forecast Table
</button>
    <div class="figure-container">
      <img src="rwanda_production_part1.png" alt="Rwanda mean production with min/max">
      <div class="figure-caption">
        <h4>Figure: Mean Predicted Production with Min/Max – Rwanda (Part 1)</h4>
        <p>Bar chart showing mean predicted production for maize, beans, and rice with min/max ranges.</p>
      </div>
    </div>
    <h4>Rice Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Rice_December_Yield.png" alt="Rwanda Rice December Yield Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Forecasts</h4>
          <p>In December 2025, the Amayepfo region was the top-performing area for rice yield in Rwanda with yields reaching 2.42 MgT/ha, while regions like Amayjaruguru, Iburengerezuba, and Iburasirazuba showed the lowest yields at 1.36 MgT/ha, marking a clear yield contrast across the country.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Rice_December_Yield_Anomaly.png" alt="Rwanda Rice December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Rice Yield Anomaly</h4>
          <p>In December 2025, Rwanda's rice yield showed predominantly above-average anomalies, with Upuguyu wa Kigali underperforming at -0.01 MgT/ha, while regions including Amayjaruguru and Iburengerazuba noted positive anomalies up to +0.05 MgT/ha. The map highlights Upuguyu wa Kigali as an extreme low-performing area amidst widespread positive yield anomalies.</p>
        </div></div>
    </div>
    <h4>Maize Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Maize_December_Yield.png" alt="Rwanda Maize December Yield Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Forecasts</h4>
          <p>In December 2025, the Amajyaruguru region recorded the highest predicted maize yield at 2.45 MgT/ha, well above the national average, while the Amajyepfo region had the lowest yield at 2.14 MgT/ha, indicating a notable yield gradient across Rwanda.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Maize_December_Yield_Anomaly.png" alt="Rwanda Maize December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Maize Yield Anomaly</h4>
          <p>In December 2025, the Amayjaruguru region experienced the lowest maize yield anomaly at -0.25 MgT/ha, while Amayjepfo displayed the highest positive anomaly at +0.28 MgT/ha. The map highlights significant regional contrasts, with negative anomalies concentrated in the north and positive anomalies dominant in the south and east.</p>
        </div></div>
    </div>
    <h4>Beans Maps</h4>
    <div class="figure-grid">
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Beans_December_Yield.png" alt="Rwanda Beans December Yield Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Forecasts</h4>
          <p>In December 2025, the top-performing region for beans yield in Rwanda was Amajyaruguru with a yield of 1.14 MgT/ha, while the lowest yield was predicted in Umujyi Wa Kigali at 0.73 MgT/ha, highlighting a significant productivity gradient across the country.</p>
        </div></div>
      <div class="figure-container">
        <img src="../data/maps/Rwanda_Beans_December_Yield_Anomaly.png" alt="Rwanda Beans December Yield Anomaly Map">
        <div class="figure-caption">
          <h4>Regional Beans Yield Anomaly</h4>
          <p>In December 2025, Ambayepfo had the lowest bean yield anomaly at -0.08 MgT/ha, highlighting a significant negative deviation, while Umujyi wa Kigali recorded the highest positive anomaly of 0.17 MgT/ha. Surrounding regions such as Amayjaruguru, Iburengerazuba, and Iburasi Razuba displayed moderate positive anomalies ranging from 0.09 to 0.12 MgT/ha.</p>
        </div></div>
    </div>
    <h4>Production Narrative</h4>
    <p>Total production areas indicate beans cover the largest areas in Iburasirazuba (259,944 ha) and Amajyepfo (174,919 ha), with predicted mean productions of 250,703 tons and 141,068 tons, respectively. Maize production is highest in Iburasirazuba with a mean predicted 298,497 tons over 132,579 ha, followed by Amajyepfo at 191,054 tons on 89,213 ha, indicating maize as the top-performing crop by production volume. Rice shows substantially lower production volumes, with top production in Amajyepfo at 22,098 tons on 9,143 ha, and Iburasirazuba at 18,468 tons on 13,588 ha. Trends indicate stability for beans, improving for maize, and mostly declining for rice, suggesting maize production could continue to strengthen while rice requires attention to reverse decline.</p>
  </div></div>

    <!-- === New: Per-country interactive regional charts (injected into each country section) === -->
    <script>
      // Data from Python: { "Kenya": [...], "Uganda":[...], ... }
      // Each row suggested fields: Country, Region, Crop, Area, PredictedYield, MinProd, MaxProd
      // Where MinProd/MaxProd are in tons. If only mean is available, set both equal.
      const regionDataByCountry = {"Tanzania": [{"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Dar Es Salaam", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.05, "Trend": "Improving"}, {"Region": "Geita", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.85, "Trend": "Improving"}, {"Region": "Kaskazini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.62, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.57, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Kusini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Mara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.1, "Trend": "Improving"}, {"Region": "Mjini Magharibi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Mwanza", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.86, "Trend": "Improving"}, {"Region": "Pwani", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.38, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Simiyu", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.73, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.08, "Trend": "Improving"}, {"Region": "Arusha", "Crop": "Maize", "MeanProd": 47630.43, "MinProd": 20210.0, "MaxProd": 75263.0, "Area": 31131.0, "Yield": 1.53, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Maize", "MeanProd": 65.28, "MinProd": 65.0, "MaxProd": 68.0, "Area": 64.0, "Yield": 1.02, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Maize", "MeanProd": 199108.97999999998, "MinProd": 168972.0, "MaxProd": 229053.0, "Area": 116438.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Maize", "MeanProd": 83143.08, "MinProd": 63791.0, "MaxProd": 102439.0, "Area": 48339.0, "Yield": 1.72, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Maize", "MeanProd": 119.11, "MinProd": 2.0, "MaxProd": 237.0, "Area": 43.0, "Yield": 2.77, "Trend": "Improving"}, {"Region": "Kaskazini Unguja", "Crop": "Maize", "MeanProd": 143.19000000000003, "MinProd": 0.0, "MaxProd": 342.0, "Area": 129.0, "Yield": 1.11, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Maize", "MeanProd": 40445.08, "MinProd": 34914.0, "MaxProd": 46109.0, "Area": 23932.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Maize", "MeanProd": 21.0, "MinProd": 7.0, "MaxProd": 36.0, "Area": 21.0, "Yield": 1.0, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Maize", "MeanProd": 104.32, "MinProd": 75.0, "MaxProd": 136.0, "Area": 64.0, "Yield": 1.63, "Trend": "Improving"}, {"Region": "Manyara", "Crop": "Maize", "MeanProd": 174719.44, "MinProd": 103607.0, "MaxProd": 244706.0, "Area": 114947.0, "Yield": 1.52, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Maize", "MeanProd": 113295.91, "MinProd": 82398.0, "MaxProd": 144157.0, "Area": 67039.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Maize", "MeanProd": 53.97, "MinProd": 52.0, "MaxProd": 60.0, "Area": 21.0, "Yield": 2.57, "Trend": "Improving"}, {"Region": "Morogoro", "Crop": "Maize", "MeanProd": 203940.25, "MinProd": 153472.0, "MaxProd": 254072.0, "Area": 106775.0, "Yield": 1.91, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Maize", "MeanProd": 193534.8, "MinProd": 95533.0, "MaxProd": 290853.0, "Area": 113844.0, "Yield": 1.7, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Maize", "MeanProd": 7794.82, "MinProd": 5245.0, "MaxProd": 10317.0, "Area": 6442.0, "Yield": 1.21, "Trend": "Stable"}, {"Region": "Shinyanga", "Crop": "Maize", "MeanProd": 164300.40000000002, "MinProd": 159241.0, "MaxProd": 169305.0, "Area": 149364.0, "Yield": 1.1, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Maize", "MeanProd": 124912.8, "MinProd": 114872.0, "MaxProd": 134979.0, "Area": 138792.0, "Yield": 0.9, "Trend": "Declining"}, {"Region": "Tanga", "Crop": "Maize", "MeanProd": 41189.01, "MinProd": 37735.0, "MaxProd": 44822.0, "Area": 33487.0, "Yield": 1.23, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.03, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.14, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.48, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Declining"}, {"Region": "Kilimanjaro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.15, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.31, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.73, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.84, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.81, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.38, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.17, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Dar Es Salaam", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.05, "Trend": "Improving"}, {"Region": "Geita", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.85, "Trend": "Improving"}, {"Region": "Kaskazini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.62, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.57, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Kusini Pemba", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Improving"}, {"Region": "Mara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.1, "Trend": "Improving"}, {"Region": "Mjini Magharibi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.72, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Improving"}, {"Region": "Mwanza", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.86, "Trend": "Improving"}, {"Region": "Pwani", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.38, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Simiyu", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.73, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.08, "Trend": "Improving"}, {"Region": "Arusha", "Crop": "Maize", "MeanProd": 47630.43, "MinProd": 20210.0, "MaxProd": 75263.0, "Area": 31131.0, "Yield": 1.53, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Maize", "MeanProd": 65.28, "MinProd": 65.0, "MaxProd": 68.0, "Area": 64.0, "Yield": 1.02, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Maize", "MeanProd": 199108.97999999998, "MinProd": 168972.0, "MaxProd": 229053.0, "Area": 116438.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Maize", "MeanProd": 83143.08, "MinProd": 63791.0, "MaxProd": 102439.0, "Area": 48339.0, "Yield": 1.72, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Maize", "MeanProd": 119.11, "MinProd": 2.0, "MaxProd": 237.0, "Area": 43.0, "Yield": 2.77, "Trend": "Improving"}, {"Region": "Kaskazini Unguja", "Crop": "Maize", "MeanProd": 143.19000000000003, "MinProd": 0.0, "MaxProd": 342.0, "Area": 129.0, "Yield": 1.11, "Trend": "Stable"}, {"Region": "Kilimanjaro", "Crop": "Maize", "MeanProd": 40445.08, "MinProd": 34914.0, "MaxProd": 46109.0, "Area": 23932.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Maize", "MeanProd": 21.0, "MinProd": 7.0, "MaxProd": 36.0, "Area": 21.0, "Yield": 1.0, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Maize", "MeanProd": 104.32, "MinProd": 75.0, "MaxProd": 136.0, "Area": 64.0, "Yield": 1.63, "Trend": "Improving"}, {"Region": "Manyara", "Crop": "Maize", "MeanProd": 174719.44, "MinProd": 103607.0, "MaxProd": 244706.0, "Area": 114947.0, "Yield": 1.52, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Maize", "MeanProd": 113295.91, "MinProd": 82398.0, "MaxProd": 144157.0, "Area": 67039.0, "Yield": 1.69, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Maize", "MeanProd": 53.97, "MinProd": 52.0, "MaxProd": 60.0, "Area": 21.0, "Yield": 2.57, "Trend": "Improving"}, {"Region": "Morogoro", "Crop": "Maize", "MeanProd": 203940.25, "MinProd": 153472.0, "MaxProd": 254072.0, "Area": 106775.0, "Yield": 1.91, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Maize", "MeanProd": 193534.8, "MinProd": 95533.0, "MaxProd": 290853.0, "Area": 113844.0, "Yield": 1.7, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Maize", "MeanProd": 7794.82, "MinProd": 5245.0, "MaxProd": 10317.0, "Area": 6442.0, "Yield": 1.21, "Trend": "Stable"}, {"Region": "Shinyanga", "Crop": "Maize", "MeanProd": 164300.40000000002, "MinProd": 159241.0, "MaxProd": 169305.0, "Area": 149364.0, "Yield": 1.1, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Maize", "MeanProd": 124912.8, "MinProd": 114872.0, "MaxProd": 134979.0, "Area": 138792.0, "Yield": 0.9, "Trend": "Declining"}, {"Region": "Tanga", "Crop": "Maize", "MeanProd": 41189.01, "MinProd": 37735.0, "MaxProd": 44822.0, "Area": 33487.0, "Yield": 1.23, "Trend": "Stable"}, {"Region": "Arusha", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.03, "Trend": "Stable"}, {"Region": "Dar Es Salaam", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.14, "Trend": "Stable"}, {"Region": "Geita", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Kagera", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.48, "Trend": "Stable"}, {"Region": "Kaskazini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Kaskazini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.92, "Trend": "Declining"}, {"Region": "Kilimanjaro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Kusini Pemba", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.15, "Trend": "Stable"}, {"Region": "Kusini Unguja", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.31, "Trend": "Stable"}, {"Region": "Manyara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.41, "Trend": "Stable"}, {"Region": "Mara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.71, "Trend": "Stable"}, {"Region": "Mjini Magharibi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}, {"Region": "Morogoro", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.73, "Trend": "Stable"}, {"Region": "Mwanza", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.84, "Trend": "Stable"}, {"Region": "Pwani", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.81, "Trend": "Declining"}, {"Region": "Shinyanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.38, "Trend": "Stable"}, {"Region": "Simiyu", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.17, "Trend": "Stable"}, {"Region": "Tanga", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.78, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.01, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.79, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.66, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.98, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.96, "Trend": "Improving"}, {"Region": "Njombe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.61, "Trend": "Stable"}, {"Region": "Rukwa", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.0, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Songwe", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.65, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Beans", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.84, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Maize", "MeanProd": 230453.65999999997, "MinProd": 119734.0, "MaxProd": 340042.0, "Area": 165794.0, "Yield": 1.39, "Trend": "Stable"}, {"Region": "Iringa", "Crop": "Maize", "MeanProd": 68291.75, "MinProd": 43692.0, "MaxProd": 93257.0, "Area": 39475.0, "Yield": 1.73, "Trend": "Improving"}, {"Region": "Katavi", "Crop": "Maize", "MeanProd": 158906.82, "MinProd": 116353.0, "MaxProd": 201156.0, "Area": 63818.0, "Yield": 2.49, "Trend": "Improving"}, {"Region": "Kigoma", "Crop": "Maize", "MeanProd": 150691.44, "MinProd": 116196.0, "MaxProd": 184719.0, "Area": 77676.0, "Yield": 1.94, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Maize", "MeanProd": 21091.2, "MinProd": 3556.0, "MaxProd": 38606.0, "Area": 17576.0, "Yield": 1.2, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Maize", "MeanProd": 163067.4, "MinProd": 33810.0, "MaxProd": 292298.0, "Area": 95922.0, "Yield": 1.7, "Trend": "Improving"}, {"Region": "Mtwara", "Crop": "Maize", "MeanProd": 14387.64, "MinProd": 13329.0, "MaxProd": 15557.0, "Area": 15306.0, "Yield": 0.94, "Trend": "Stable"}, {"Region": "Njombe", "Crop": "Maize", "MeanProd": 57098.9, "MinProd": 53641.0, "MaxProd": 60675.0, "Area": 36838.0, "Yield": 1.55, "Trend": "Improving"}, {"Region": "Rukwa", "Crop": "Maize", "MeanProd": 233461.36, "MinProd": 159548.0, "MaxProd": 307981.0, "Area": 111704.0, "Yield": 2.09, "Trend": "Improving"}, {"Region": "Ruvuma", "Crop": "Maize", "MeanProd": 115108.68, "MinProd": 87819.0, "MaxProd": 142254.0, "Area": 57268.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Singida", "Crop": "Maize", "MeanProd": 192931.6, "MinProd": 90320.0, "MaxProd": 297068.0, "Area": 155590.0, "Yield": 1.24, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Maize", "MeanProd": 364492.5, "MinProd": 260687.0, "MaxProd": 467496.0, "Area": 291594.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Dodoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.03, "Trend": "Declining"}, {"Region": "Iringa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.34, "Trend": "Stable"}, {"Region": "Katavi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.6, "Trend": "Stable"}, {"Region": "Kigoma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 2.01, "Trend": "Improving"}, {"Region": "Lindi", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.22, "Trend": "Stable"}, {"Region": "Mbeya", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.65, "Trend": "Stable"}, {"Region": "Mtwara", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.99, "Trend": "Declining"}, {"Region": "Njombe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.95, "Trend": "Declining"}, {"Region": "Rukwa", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.68, "Trend": "Stable"}, {"Region": "Ruvuma", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.19, "Trend": "Stable"}, {"Region": "Singida", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 0.88, "Trend": "Declining"}, {"Region": "Songwe", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.25, "Trend": "Stable"}, {"Region": "Tabora", "Crop": "Rice", "MeanProd": 0.0, "MinProd": 0, "MaxProd": 0, "Area": 0.0, "Yield": 1.51, "Trend": "Stable"}]};

      // Utility: slugify for ids / anchors
      const slug = s => String(s || "").toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'');

      // Hide static PNG production charts inside country sections (true "replace")
      function hideStaticProductionPNGs(sectionEl){
        if (!sectionEl) return;
        const imgs = sectionEl.querySelectorAll('img');
        imgs.forEach(img => {
          const src = (img.getAttribute('src') || '').toLowerCase();
          if (/_production_part\d*\.png$/.test(src) || src.includes('production_part')) {
            const fig = img.closest('.figure-container') || img;
            fig.style.display = 'none';
          }
        });
      }

      // Create and inject a full interactive chart block into a given country section
      function injectRegionChart(country, rows){
        const sec = document.querySelector('.country-section#' + slug(country));
        // fallback: try by heading text if id missing
        let contentHost = sec ? sec.querySelector('.country-content') : null;

        if (!contentHost) {
          // fallback: append to summary section end
          contentHost = document.getElementById('country-summary');
        }

        // Build wrapper
        const wrap = document.createElement('div');
        wrap.className = 'chart-wrap';
        wrap.id = `region-wrap-${slug(country)}`;
        wrap.innerHTML = `
          <h3 style="margin-top:6px;">${country} — Regional Interactive Chart</h3>
          <div class="control-row" style="margin-top:2px;">
            <div id="crop-buttons-${slug(country)}" class="button-row"></div>
          </div>
          <div class="control-row">
            <input id="region-input-${slug(country)}" class="region-input" list="region-list-${slug(country)}" placeholder="Type a region/county and click Add">
            <datalist id="region-list-${slug(country)}"></datalist>
            <button class="pill" id="btn-add-${slug(country)}">Add</button>
            <button class="pill" id="btn-top3-${slug(country)}">Top 3</button>
            <button class="pill" id="btn-top5-${slug(country)}">Top 5</button>
            <button class="pill" id="btn-clear-${slug(country)}">Clear</button>
          </div>
          <div class="chips" id="chips-${slug(country)}"></div>
          <div class="small-note">Bars show mean predicted production; vertical whiskers (UMD) show min–max range.</div>
          <svg id="svg-${slug(country)}" width="980" height="420"></svg>
        `;
        contentHost.appendChild(wrap);

        // Optionally hide old PNGs
        hideStaticProductionPNGs(sec || contentHost);

        // ---- D3 setup for this country ----
        const svg = d3.select(`#svg-${slug(country)}`);
        const margin = {top: 18, right: 22, bottom: 66, left: 92};
        const W = +svg.attr("width")  - margin.left - margin.right;
        const H = +svg.attr("height") - margin.top  - margin.bottom;
        const g  = svg.append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const gx = g.append("g").attr("class","axis").attr("transform", `translate(0,${H})`);
        const gy = g.append("g").attr("class","axis");
        g.append("text").attr("class","y-title")
          .attr("x",-H/2).attr("y",-70).attr("transform","rotate(-90)")
          .attr("text-anchor","middle").text("Predicted Production (tons)");

        const x = d3.scaleBand().padding(0.36).range([0, W]);
        const y = d3.scaleLinear().range([H, 0]);

        const barLayer = g.append("g");
        const errLayer = g.append("g");
        const capLayer = g.append("g");

        // Data prep
        const allCrops = Array.from(new Set(rows.map(r => String(r.Crop).trim()))).sort();
        let activeCrop = allCrops[0] || "Maize";
        const regionsAll = Array.from(new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)))).sort();
        let selectedRegions = [];

        // Build crop buttons
        const cropBtns = d3.select(`#crop-buttons-${slug(country)}`)
          .selectAll("button")
          .data(allCrops)
          .join("button")
          .attr("class","pill crop")
          .classed("is-active", d => d===activeCrop)
          .text(d => d)
          .on("click", (_, d) => {
            activeCrop = d;
            // refresh datalist
            refreshDatalist();
            // reset default selection to Top 5 for new crop
            pickTopN(5);
            cropBtns.classed("is-active", x => x===activeCrop);
            update();
          });

        // Build datalist options
        const datalist = document.getElementById(`region-list-${slug(country)}`);
        function refreshDatalist(){
          datalist.innerHTML = "";
          const regs = Array.from(new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)))).sort();
          regs.forEach(r => {
            const opt = document.createElement('option');
            opt.value = r;
            datalist.appendChild(opt);
          });
        }
        refreshDatalist();

        // Helpers to compute mean/min/max per region for active crop
        function regionStatsForCrop(crop){
          const subset = rows.filter(r => r.Crop === crop);
          const byRegion = d3.rollups(
            subset,
            v => {
              // calc mean, min, max production (tons)
              const mins = v.map(d => +d.MinProd).filter(n => Number.isFinite(n));
              const maxs = v.map(d => +d.MaxProd).filter(n => Number.isFinite(n));
              let min = d3.sum(mins);
              let max = d3.sum(maxs);
              if (!Number.isFinite(min) || !Number.isFinite(max)) {
                // fallback to area*yield if min/max missing
                const means = v.map(d => (+d.Area || 0) * (+d.PredictedYield || 0));
                min = max = d3.sum(means);
              }
              const mean = (min + max) / 2;
              return { region: v[0].Region, crop, mean, min, max };
            },
            d => d.Region
          ).map(([region, obj]) => obj);
          // Sort descending mean
          byRegion.sort((a,b) => d3.descending(a.mean, b.mean));
          return byRegion;
        }

        function pickTopN(n){
          const stats = regionStatsForCrop(activeCrop);
          selectedRegions = stats.slice(0, n).map(d => d.region);
          renderChips();
        }

        // Chips UI
        const chipsHost = document.getElementById(`chips-${slug(country)}`);
        function renderChips(){
          chipsHost.innerHTML = "";
          selectedRegions.forEach(reg => {
            const el = document.createElement('span');
            el.className = 'chip';
            el.innerHTML = `${reg} <button aria-label="Remove ${reg}">&times;</button>`;
            el.querySelector('button').addEventListener('click', () => {
              selectedRegions = selectedRegions.filter(x => x !== reg);
              renderChips();
              update();
            });
            chipsHost.appendChild(el);
          });
        }

        // Buttons
        document.getElementById(`btn-add-${slug(country)}`).addEventListener('click', () => {
          const txt = document.getElementById(`region-input-${slug(country)}`).value.trim();
          const validRegions = new Set(rows.filter(r => r.Crop===activeCrop).map(r => String(r.Region)));
          if (txt && validRegions.has(txt) && !selectedRegions.includes(txt)){
            selectedRegions.push(txt);
            renderChips();
            update();
          }
          document.getElementById(`region-input-${slug(country)}`).value = "";
        });
        document.getElementById(`btn-top3-${slug(country)}`).addEventListener('click', () => { pickTopN(3); update(); });
        document.getElementById(`btn-top5-${slug(country)}`).addEventListener('click', () => { pickTopN(5); update(); });
        document.getElementById(`btn-clear-${slug(country)}`).addEventListener('click', () => { selectedRegions = []; renderChips(); update(); });

        // Default: Top 5 for initial crop
        pickTopN(5);

        function update(){
          const stats = regionStatsForCrop(activeCrop);
          const regionSet = new Set(selectedRegions.length ? selectedRegions : stats.slice(0,5).map(d=>d.region));
          const data = stats.filter(d => regionSet.has(d.region));

          // domains
          const regions = data.map(d => d.region);
          x.domain(regions);
          const ymax = d3.max(data, d => d.max) || 1;
          y.domain([0, ymax * 1.15]).nice();

          // bars
          const bars = barLayer.selectAll("rect.bar").data(data, d => d.region);
          bars.exit().transition().duration(250).attr("y", y(0)).attr("height", 0).remove();

          const bw = x.bandwidth();
          const BARW = Math.min(36, Math.max(18, bw * 0.38));

          const cropColors = {
            "Maize": "#1a9850",   // green
            "Rice":  "#f4a259",   // orange
            "Beans": "#5e3c99"    // purple (or any color you like)
          };

          bars.enter().append("rect")
              .attr("class","bar")
              .attr("rx",3).attr("ry",3)
              .attr("x", d => (x(d.region) ?? 0) + (bw - BARW)/2)
              .attr("y", y(0)).attr("height", 0).attr("width", BARW)
              .attr("fill", d => cropColors[d.crop] || "#888")
              .attr("opacity", 0.95)
            .merge(bars)
              .transition().duration(450)
              .attr("x", d => (x(d.region) ?? 0) + (bw - BARW)/2)
              .attr("width", BARW)
              .attr("y", d => y(d.mean))
              .attr("height", d => Math.max(0, y(0) - y(d.mean)))
              .attr("fill", d => cropColors[d.crop] || "#888");

          // error whiskers with caps (UMD)
          const errs = errLayer.selectAll("line.err").data(data, d => d.region);
          errs.exit().remove();
          errs.enter().append("line")
              .attr("class","err")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(errs)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw)/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.min));

          const capW = Math.max(8, BARW * 0.4);
          const capsTop = capLayer.selectAll("line.capTop").data(data, d => d.region);
          capsTop.exit().remove();
          capsTop.enter().append("line")
              .attr("class","capTop")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsTop)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw - capW)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw + capW)/2)
              .attr("y1", d => y(d.max))
              .attr("y2", d => y(d.max));

          const capsBot = capLayer.selectAll("line.capBot").data(data, d => d.region);
          capsBot.exit().remove();
          capsBot.enter().append("line")
              .attr("class","capBot")
              .attr("stroke","#2c5530").attr("stroke-width",1.6)
            .merge(capsBot)
              .transition().duration(450)
              .attr("x1", d => (x(d.region) ?? 0) + (bw - capW)/2)
              .attr("x2", d => (x(d.region) ?? 0) + (bw + capW)/2)
              .attr("y1", d => y(d.min))
              .attr("y2", d => y(d.min));

          // axes
          gx.transition().duration(350).call(d3.axisBottom(x));
          gy.transition().duration(350).call(d3.axisLeft(y).ticks(6));
        }

        update();
      }

      // Initialize charts for all countries present in data
      document.addEventListener('DOMContentLoaded', () => {
        if (!regionDataByCountry) return;
        Object.keys(regionDataByCountry).forEach(country => {
          try {
            injectRegionChart(country, regionDataByCountry[country] || []);
          } catch (e) {
            console.warn('Failed to inject chart for', country, e);
          }
        });
      });
    </script>
    <!-- === End: per-country interactive charts === -->
    <section id="appendix-tables" class="section">
  <h2>Regional Production Forecast Tables</h2>

  
    <h3 id="regional-table-tanzania">Tanzania – Regional Production Table</h3>

    <div class="filter-row">
      <div>
        <label for="crop-filter-tanzania">Crop:</label>
        <select id="crop-filter-tanzania">
          <option value="All">All</option>
          <option value="Maize">Maize</option>
          <option value="Rice">Rice</option>
          <option value="Beans">Beans</option>
        </select>
      </div>
      <div>
        <label for="cond-filter-tanzania">Condition:</label>
        <select id="cond-filter-tanzania">
          <option value="All">All</option>
          <option value="Exceptional">Exceptional</option>
          <option value="Favorable">Favorable</option>
          <option value="Watch">Watch</option>
          <option value="Poor">Poor</option>
        </select>
      </div>
      <button class="download-btn" data-table="regional-table-tanzania" type="button">
        Download CSV
      </button>
    </div>

    <table class="regional-table" id="regional-table-tanzania">
      <thead>
        <tr>
          <th>Crop</th>
          <th>Region</th>
          <th class="sortable">Predicted Yield (MT/ha)</th>
          <th class="sortable">Yield Anomaly</th>
          <th>Min–Max Production (tons)</th>
          <th>Condition</th>
        </tr>
      </thead>
      <tbody>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Arusha</td>
          <td>0.92</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.05</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Geita</td>
          <td>0.71</td>
          <td>0.149</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kagera</td>
          <td>0.85</td>
          <td>0.123</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Pemba</td>
          <td>0.62</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.57</td>
          <td>0.007</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kilimanjaro</td>
          <td>0.99</td>
          <td>0.343</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Pemba</td>
          <td>0.94</td>
          <td>0.377</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Unguja</td>
          <td>0.72</td>
          <td>0.161</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Manyara</td>
          <td>0.99</td>
          <td>0.288</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mara</td>
          <td>1.1</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mjini Magharibi</td>
          <td>0.72</td>
          <td>0.158</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Morogoro</td>
          <td>0.92</td>
          <td>0.17</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mwanza</td>
          <td>0.86</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Pwani</td>
          <td>0.38</td>
          <td>0.153</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Shinyanga</td>
          <td>0.96</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Simiyu</td>
          <td>0.73</td>
          <td>0.171</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tanga</td>
          <td>1.08</td>
          <td>0.215</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Arusha</td>
          <td>1.53</td>
          <td>0.106</td>
          <td>20210.0 – 75263.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.02</td>
          <td>0.005</td>
          <td>65.0 – 68.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Geita</td>
          <td>1.71</td>
          <td>0.309</td>
          <td>168972.0 – 229053.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kagera</td>
          <td>1.72</td>
          <td>0.325</td>
          <td>63791.0 – 102439.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Pemba</td>
          <td>2.77</td>
          <td>0.1</td>
          <td>2.0 – 237.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Unguja</td>
          <td>1.11</td>
          <td>0.053</td>
          <td>0.0 – 342.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kilimanjaro</td>
          <td>1.69</td>
          <td>0.162</td>
          <td>34914.0 – 46109.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Watch">
          <td><strong>Maize</strong></td>
          <td>Kusini Pemba</td>
          <td>1.0</td>
          <td>-0.002</td>
          <td>7.0 – 36.0</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kusini Unguja</td>
          <td>1.63</td>
          <td>0.104</td>
          <td>75.0 – 136.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Manyara</td>
          <td>1.52</td>
          <td>0.054</td>
          <td>103607.0 – 244706.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mara</td>
          <td>1.69</td>
          <td>0.319</td>
          <td>82398.0 – 144157.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mjini Magharibi</td>
          <td>2.57</td>
          <td>0.08</td>
          <td>52.0 – 60.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Morogoro</td>
          <td>1.91</td>
          <td>0.109</td>
          <td>153472.0 – 254072.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mwanza</td>
          <td>1.7</td>
          <td>0.302</td>
          <td>95533.0 – 290853.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Pwani</td>
          <td>1.21</td>
          <td>0.002</td>
          <td>5245.0 – 10317.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Shinyanga</td>
          <td>1.1</td>
          <td>0.118</td>
          <td>159241.0 – 169305.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Simiyu</td>
          <td>0.9</td>
          <td>0.1</td>
          <td>114872.0 – 134979.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tanga</td>
          <td>1.23</td>
          <td>0.047</td>
          <td>37735.0 – 44822.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Arusha</td>
          <td>2.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.14</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Geita</td>
          <td>1.65</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kagera</td>
          <td>1.48</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Pemba</td>
          <td>1.2</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.92</td>
          <td>-0.033</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kilimanjaro</td>
          <td>1.41</td>
          <td>-0.042</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kusini Pemba</td>
          <td>1.15</td>
          <td>0.051</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Poor">
          <td><strong>Rice</strong></td>
          <td>Kusini Unguja</td>
          <td>1.31</td>
          <td>-0.105</td>
          <td>nan – nan</td>
          <td class="condition-poor">Poor</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Manyara</td>
          <td>1.41</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mara</td>
          <td>1.71</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Mjini Magharibi</td>
          <td>1.51</td>
          <td>-0.021</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Morogoro</td>
          <td>1.73</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mwanza</td>
          <td>1.84</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Pwani</td>
          <td>0.81</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Shinyanga</td>
          <td>1.38</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Simiyu</td>
          <td>1.17</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tanga</td>
          <td>1.22</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Arusha</td>
          <td>0.92</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.05</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Geita</td>
          <td>0.71</td>
          <td>0.149</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kagera</td>
          <td>0.85</td>
          <td>0.123</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Pemba</td>
          <td>0.62</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.57</td>
          <td>0.007</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kilimanjaro</td>
          <td>0.99</td>
          <td>0.343</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Pemba</td>
          <td>0.94</td>
          <td>0.377</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kusini Unguja</td>
          <td>0.72</td>
          <td>0.161</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Manyara</td>
          <td>0.99</td>
          <td>0.288</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mara</td>
          <td>1.1</td>
          <td>0.272</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mjini Magharibi</td>
          <td>0.72</td>
          <td>0.158</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Morogoro</td>
          <td>0.92</td>
          <td>0.17</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mwanza</td>
          <td>0.86</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Pwani</td>
          <td>0.38</td>
          <td>0.153</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Shinyanga</td>
          <td>0.96</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Simiyu</td>
          <td>0.73</td>
          <td>0.171</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tanga</td>
          <td>1.08</td>
          <td>0.215</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Arusha</td>
          <td>1.53</td>
          <td>0.106</td>
          <td>20210.0 – 75263.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.02</td>
          <td>0.005</td>
          <td>65.0 – 68.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Geita</td>
          <td>1.71</td>
          <td>0.309</td>
          <td>168972.0 – 229053.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kagera</td>
          <td>1.72</td>
          <td>0.325</td>
          <td>63791.0 – 102439.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Pemba</td>
          <td>2.77</td>
          <td>0.1</td>
          <td>2.0 – 237.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kaskazini Unguja</td>
          <td>1.11</td>
          <td>0.053</td>
          <td>0.0 – 342.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kilimanjaro</td>
          <td>1.69</td>
          <td>0.162</td>
          <td>34914.0 – 46109.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Watch">
          <td><strong>Maize</strong></td>
          <td>Kusini Pemba</td>
          <td>1.0</td>
          <td>-0.002</td>
          <td>7.0 – 36.0</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kusini Unguja</td>
          <td>1.63</td>
          <td>0.104</td>
          <td>75.0 – 136.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Manyara</td>
          <td>1.52</td>
          <td>0.054</td>
          <td>103607.0 – 244706.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mara</td>
          <td>1.69</td>
          <td>0.319</td>
          <td>82398.0 – 144157.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mjini Magharibi</td>
          <td>2.57</td>
          <td>0.08</td>
          <td>52.0 – 60.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Morogoro</td>
          <td>1.91</td>
          <td>0.109</td>
          <td>153472.0 – 254072.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mwanza</td>
          <td>1.7</td>
          <td>0.302</td>
          <td>95533.0 – 290853.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Pwani</td>
          <td>1.21</td>
          <td>0.002</td>
          <td>5245.0 – 10317.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Shinyanga</td>
          <td>1.1</td>
          <td>0.118</td>
          <td>159241.0 – 169305.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Simiyu</td>
          <td>0.9</td>
          <td>0.1</td>
          <td>114872.0 – 134979.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tanga</td>
          <td>1.23</td>
          <td>0.047</td>
          <td>37735.0 – 44822.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Arusha</td>
          <td>2.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dar Es Salaam</td>
          <td>1.14</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Geita</td>
          <td>1.65</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kagera</td>
          <td>1.48</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Pemba</td>
          <td>1.2</td>
          <td>0.108</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kaskazini Unguja</td>
          <td>0.92</td>
          <td>-0.033</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Kilimanjaro</td>
          <td>1.41</td>
          <td>-0.042</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kusini Pemba</td>
          <td>1.15</td>
          <td>0.051</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Poor">
          <td><strong>Rice</strong></td>
          <td>Kusini Unguja</td>
          <td>1.31</td>
          <td>-0.105</td>
          <td>nan – nan</td>
          <td class="condition-poor">Poor</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Manyara</td>
          <td>1.41</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mara</td>
          <td>1.71</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Mjini Magharibi</td>
          <td>1.51</td>
          <td>-0.021</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Morogoro</td>
          <td>1.73</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mwanza</td>
          <td>1.84</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Pwani</td>
          <td>0.81</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Shinyanga</td>
          <td>1.38</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Simiyu</td>
          <td>1.17</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tanga</td>
          <td>1.22</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Dodoma</td>
          <td>0.78</td>
          <td>0.168</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Iringa</td>
          <td>1.01</td>
          <td>0.2</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Katavi</td>
          <td>0.79</td>
          <td>0.231</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Kigoma</td>
          <td>0.88</td>
          <td>0.252</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Lindi</td>
          <td>0.66</td>
          <td>0.104</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mbeya</td>
          <td>0.98</td>
          <td>0.191</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Mtwara</td>
          <td>0.96</td>
          <td>0.109</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Njombe</td>
          <td>0.61</td>
          <td>0.052</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Rukwa</td>
          <td>1.0</td>
          <td>0.196</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Ruvuma</td>
          <td>0.95</td>
          <td>0.18</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Singida</td>
          <td>0.65</td>
          <td>0.063</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Songwe</td>
          <td>0.65</td>
          <td>0.088</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Beans" data-condition="Favorable">
          <td><strong>Beans</strong></td>
          <td>Tabora</td>
          <td>0.84</td>
          <td>0.148</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Dodoma</td>
          <td>1.39</td>
          <td>0.131</td>
          <td>119734.0 – 340042.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Iringa</td>
          <td>1.73</td>
          <td>0.32</td>
          <td>43692.0 – 93257.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Katavi</td>
          <td>2.49</td>
          <td>0.388</td>
          <td>116353.0 – 201156.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Kigoma</td>
          <td>1.94</td>
          <td>0.389</td>
          <td>116196.0 – 184719.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Lindi</td>
          <td>1.2</td>
          <td>0.148</td>
          <td>3556.0 – 38606.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mbeya</td>
          <td>1.7</td>
          <td>0.31</td>
          <td>33810.0 – 292298.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Mtwara</td>
          <td>0.94</td>
          <td>0.125</td>
          <td>13329.0 – 15557.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Njombe</td>
          <td>1.55</td>
          <td>0.252</td>
          <td>53641.0 – 60675.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Rukwa</td>
          <td>2.09</td>
          <td>0.375</td>
          <td>159548.0 – 307981.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Ruvuma</td>
          <td>2.01</td>
          <td>0.397</td>
          <td>87819.0 – 142254.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Singida</td>
          <td>1.24</td>
          <td>0.147</td>
          <td>90320.0 – 297068.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Maize" data-condition="Favorable">
          <td><strong>Maize</strong></td>
          <td>Tabora</td>
          <td>1.25</td>
          <td>0.169</td>
          <td>260687.0 – 467496.0</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Dodoma</td>
          <td>1.03</td>
          <td>0.058</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Iringa</td>
          <td>1.34</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Katavi</td>
          <td>1.6</td>
          <td>0.003</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Kigoma</td>
          <td>2.01</td>
          <td>0.008</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Lindi</td>
          <td>1.22</td>
          <td>0.048</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mbeya</td>
          <td>1.65</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Mtwara</td>
          <td>0.99</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Njombe</td>
          <td>0.95</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Rukwa</td>
          <td>1.68</td>
          <td>-0.038</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Ruvuma</td>
          <td>1.19</td>
          <td>0.015</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Singida</td>
          <td>0.88</td>
          <td>-0.011</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Watch">
          <td><strong>Rice</strong></td>
          <td>Songwe</td>
          <td>1.25</td>
          <td>-0.065</td>
          <td>nan – nan</td>
          <td class="condition-watch">Watch</td>
        </tr>
        
        <tr data-crop="Rice" data-condition="Favorable">
          <td><strong>Rice</strong></td>
          <td>Tabora</td>
          <td>1.51</td>
          <td>0.054</td>
          <td>nan – nan</td>
          <td class="condition-favorable">Favorable</td>
        </tr>
        
      </tbody>
    </table>
  
</section>

    <!-- Appendix -->
    <section id="appendix" class="section">
      <h2>Appendix A: Model Description and Parameters</h2>

      <h3>Crop Conditions Classes</h3>
      <table>
        <thead><tr><th>Class</th><th>Definition</th></tr></thead>
        <tbody>
          <tr><td class="condition-exceptional"><strong>Exceptional</strong></td><td>Conditions are much better than average at the time of reporting. Used only during the grain-filling through harvest stages.</td></tr>
          <tr><td class="condition-favorable"><strong>Favorable</strong></td><td>Conditions range from slightly below to slightly above-average at reporting time.</td></tr>
          <tr><td class="condition-watch"><strong>Watch</strong></td><td>Near average but with risk to final yields; recovery possible if conditions improve.</td></tr>
          <tr><td class="condition-poor"><strong>Poor</strong></td><td>Well below average; yields likely 10–25% below average with limited recovery potential.</td></tr>
        </tbody>
      </table>

      <h3>Data Sources</h3>
      <table>
        <thead><tr><th>Data Type</th><th>Source</th></tr></thead>
        <tbody>
          <tr><td>NDVI</td><td>UMD GLAM system</td></tr>
          <tr><td>ESI</td><td>NASA SERVIR Global</td></tr>
          <tr><td>Precipitation</td><td>CHIRPS (historical), NOAA CPC</td></tr>
          <tr><td>Precipitation Forecast</td><td>CHIRPS-GEFS</td></tr>
          <tr><td>Soil Moisture</td><td>NASA–USDA Global (SMOS)</td></tr>
          <tr><td>Temperature</td><td>NOAA CPC</td></tr>
        </tbody>
      </table>

      <h3>Model Performance Summary</h3>
      <p>Our yield prediction model is evaluated using historical data to assess accuracy and reliability. Performance metrics are calculated by comparing predicted yields against actual reported yields from previous seasons.</p>

                <table>
  	<thead><tr><th>Country</th><th>Crop</th><th>R² Score</th><th>RMSE (MT/ha)</th><th>MAE (MT/ha)</th><th>Training Period</th></tr></thead>
  	<tbody>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Maize</td><td>0.78</td><td>0.45</td><td>0.35</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Rice</td><td>0.72</td><td>0.52</td><td>0.42</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Tanzania</strong></td> <td>Beans</td><td>0.68</td><td>0.38</td><td>0.30</td><td>2010-2023</td></tr>
    	
    	  <tr><td><strong>Kenya</strong></td> <td>Maize</td><td>0.75</td><td>0.48</td><td>0.38</td><td>2010-2023</td></tr>
    	
          </tbody>
                 </table>

      <div style="margin-top: 1rem; font-size: 0.95rem; color: #555;">
  	<p><strong>Metrics Explanation:</strong></p>
  	<ul style="margin-left: 1.5rem;">
    	<li><strong>R² Score:</strong> Coefficient of determination (0-1); higher values indicate better model fit. Values above 0.7 indicate strong predictive power.</li>
    	<li><strong>RMSE:</strong> Root Mean Square Error; average magnitude of prediction errors in MT/ha. Lower is better.</li>
    	<li><strong>MAE:</strong> Mean Absolute Error; average absolute difference between predicted and actual yields in MT/ha. Lower is better.</li>
  	</ul>
                </div>

      <div class="disclaimer">
        <h4>Disclaimer</h4>
        <p>The opinions expressed in this report are those of the authors and do not necessarily reflect the official policy or position of AGRA, its employees, partners, or affiliates. While every effort has been made to ensure the accuracy and completeness of the information, we assume no responsibility for any errors or omissions.</p>
        <p><strong>Project Lead:</strong> Dr. Catherine Nakalembe<br/>
           <strong>Team:</strong> Xylem Lab / NASA Harvest–Africa Team<br/>
           <strong>Date:</strong> December</p>
      </div>
    </section>

  </main>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Loop through all regional tables
  document.querySelectorAll("table.regional-table").forEach(table => {
    const countryId = table.id.replace("regional-table-", "");
    const cropSel = document.getElementById(`crop-filter-${countryId}`);
    const condSel = document.getElementById(`cond-filter-${countryId}`);
    const downloadBtn = document.querySelector(`.download-btn[data-table="${table.id}"]`);

    // --- FILTERING ---
    function applyFilters() {
      const crop = cropSel.value;
      const cond = condSel.value;
      table.querySelectorAll("tbody tr").forEach(row => {
        const rowCrop = row.getAttribute("data-crop");
        const rowCond = row.getAttribute("data-condition");
        let show = true;
        if (crop !== "All" && rowCrop !== crop) show = false;
        if (cond !== "All" && rowCond !== cond) show = false;
        row.style.display = show ? "" : "none";
      });
    }
    cropSel.addEventListener("change", applyFilters);
    condSel.addEventListener("change", applyFilters);

    // --- SORTING ---
    table.querySelectorAll("th.sortable").forEach((th, idx) => {
      let asc = true;
      th.addEventListener("click", () => {
        const rows = Array.from(table.querySelectorAll("tbody tr")).filter(r => r.style.display !== "none");
        rows.sort((a,b) => {
          const aVal = parseFloat(a.children[idx].innerText) || 0;
          const bVal = parseFloat(b.children[idx].innerText) || 0;
          return asc ? aVal - bVal : bVal - aVal;
        });
        asc = !asc;
        rows.forEach(r => table.querySelector("tbody").appendChild(r));
      });
    });

    // --- DOWNLOAD CSV ---
    if (downloadBtn) {
      downloadBtn.addEventListener("click", (event) => {
        event.stopPropagation(); // prevent double trigger
        event.preventDefault();

        let csv = [];
        const rows = table.querySelectorAll("tr");
        rows.forEach((row, ridx) => {
          if (row.style.display === "none") return; // skip hidden
          const cols = row.querySelectorAll("th,td");
          let values = Array.from(cols).map(c => c.innerText.trim());

          if (ridx === 0) {
            // Header: split Min–Max
            values = values.flatMap(v => {
              if (v.includes("Min–Max")) return ["Min Production (tons)", "Max Production (tons)"];
              return [v];
            });
          } else {
            // Data rows: split ranges
            values = values.flatMap(v => {
              if (v.includes("–")) {
                const parts = v.split("–").map(p => p.trim());
                if (parts.length === 2) return [parts[0], parts[1]];
              }
              return [v];
            });
          }
          csv.push(values.map(v => `"${v}"`).join(","));
        });

        const blob = new Blob([csv.join("\n")], { type: "text/csv" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `${countryId}_regional_table.csv`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }); // attach once only
    }
  });
});
</script>
<!-- Footer -->
<footer class="bulletin-footer">
    <div class="footer-container">
        <div class="footer-section footer-branding">
            <img src="F:\Nakalembe lab\agra_rag\data\static\XylemLab logo.png" alt="XylemLab Logo" class="footer-logo">
            <p class="footer-tagline">Advancing Agricultural Intelligence Through Remote Sensing</p>
        </div>
        
        <div class="footer-section">
            <h4>Quick Links</h4>
            <ul class="footer-links">
                <li><a href="https://www.xylemlab.org/mission" target="_blank">Our Mission</a></li>
                <li><a href="https://www.xylemlab.org/get-involved" target="_blank">Get Involved</a></li>
                <li><a href="https://www.xylemlab.org/donate" target="_blank">Make a Donation</a></li>
            </ul>
        </div>
        
        <div class="footer-section">
            <h4>Contact Us</h4>
            <ul class="footer-links">
                <li><a href="https://circle.xylemlab.org" target="_blank">Circle Community</a></li>
                <li><a href="https://bsky.app/profile/xylemlab.org" target="_blank">Bluesky</a></li>
                <li><a href="https://www.linkedin.com/company/xylemlab" target="_blank">LinkedIn Community</a></li>
                <li><a href="mailto:contact@xylemlab.org">contact@xylemlab.org</a></li>
            </ul>
        </div>
        
        <div class="footer-section">
            <h4>Our Network</h4>
            <ul class="footer-links">
                <li><a href="https://www.xylemlab.org/" target="_blank">XylemLab</a></li>
                <li><a href="https://www.xyleminstitute.org/" target="_blank">Xylem Institute</a></li>
                <li><a href="https://www.umd.edu" target="_blank">University of Maryland</a></li>
            </ul>
        </div>
    </div>
    
    <div class="footer-bottom">
        <p>&copy; 2026 UMD-XylemLab. All rights reserved. | Bulletin generated on February 12, 2026 at 08:40 UTC</p>
        <p class="footer-disclaimer">Data sources: USDA, FAO, and UMD-XylemLab predictive models</p>
    </div>
</footer>

<style>
.bulletin-footer {
    background: linear-gradient(135deg, #2c5530, #4a7c4e);
    color: #ffffff;
    margin-top: 60px;
    padding: 50px 20px 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 40px;
    padding-bottom: 30px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.footer-section h4 {
    color: #a8d5a8;
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
    letter-spacing: 0.5px;
}

.footer-branding {
    grid-column: 1;
}

.footer-logo {
    max-width: 180px;
    height: auto;
    margin-bottom: 15px;
    filter: brightness(0) invert(1);
}

.footer-tagline {
    color: #e8f5e8;
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
}

.footer-links {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-links li {
    margin-bottom: 10px;
}

.footer-links a {
    color: #f0f7f0;
    text-decoration: none;
    font-size: 14px;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

.footer-links a:hover {
    color: #c8e6c8;
    transform: translateX(3px);
}

.footer-links a::before {
    content: "→";
    margin-right: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.footer-links a:hover::before {
    opacity: 1;
}

.footer-bottom {
    max-width: 1200px;
    margin: 30px auto 0;
    text-align: center;
    padding-top: 20px;
}

.footer-bottom p {
    color: #d4e7d4;
    font-size: 13px;
    margin: 8px 0;
}

.footer-disclaimer {
    font-style: italic;
    color: #b8d4b8;
}

@media (max-width: 768px) {
    .footer-container {
        grid-template-columns: 1fr;
        gap: 30px;
    }
    
    .footer-branding {
        grid-column: 1;
    }
}
</style>

<!-- Social Share Component v3 - Inline SVGs, No External Dependencies -->
<style>
/* Bulletin color palette */
:root {
    --bulletin-primary: #1a472a;
    --bulletin-primary-light: #2d5a3d;
    --bulletin-primary-dark: #0f2d1a;
    --bulletin-accent: #3d8b5f;
    --bulletin-bg: #f8faf9;
    --bulletin-border: #d4e5db;
    --bulletin-text: #1a1a1a;
    --bulletin-text-muted: #5a6b5f;
}

/* Modal Overlay */
.share-modal-v2 {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.share-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(26, 71, 42, 0.4);
    backdrop-filter: blur(4px);
}

.share-modal-content-v2 {
    position: relative;
    background: white;
    border-radius: 12px;
    padding: 0;
    max-width: 560px;
    width: 94%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 25px 80px rgba(26, 71, 42, 0.25);
    border: 1px solid var(--bulletin-border);
}

.share-modal-header-v2 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: var(--bulletin-primary);
    color: white;
    border-radius: 12px 12px 0 0;
}

.share-header-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

.share-header-title h3 {
    margin: 0;
    font-size: 1.2em;
    font-weight: 600;
}

.share-header-title svg {
    width: 24px;
    height: 24px;
    fill: white;
}

.share-close-btn-v2 {
    background: rgba(255,255,255,0.15);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
}

.share-close-btn-v2:hover {
    background: rgba(255,255,255,0.25);
}

.share-close-btn-v2 svg {
    width: 20px;
    height: 20px;
    fill: white;
}

/* Headline Box */
.share-headline-box {
    margin: 20px 24px;
    padding: 16px;
    background: var(--bulletin-bg);
    border-radius: 8px;
    border-left: 4px solid var(--bulletin-accent);
}

.share-headline-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--bulletin-accent);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
}

.share-headline-label svg {
    width: 16px;
    height: 16px;
    fill: var(--bulletin-accent);
}

.share-headline-text {
    margin: 0;
    font-size: 15px;
    color: var(--bulletin-text);
    line-height: 1.5;
}

/* Sections */
.share-section {
    padding: 0 24px 20px;
}

.share-section-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    color: var(--bulletin-text-muted);
    margin-bottom: 12px;
}

/* Platform Grid */
.share-platforms-v2 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
}

.platform-btn-v2 {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 12px 8px;
    border: 2px solid var(--bulletin-border);
    border-radius: 10px;
    background: white;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 11px;
    color: var(--bulletin-text-muted);
}

.platform-btn-v2:hover {
    border-color: var(--bulletin-accent);
    background: var(--bulletin-bg);
}

.platform-btn-v2.active {
    border-color: var(--bulletin-primary);
    background: var(--bulletin-primary);
    color: white;
}

.platform-btn-v2 svg {
    width: 28px;
    height: 28px;
    transition: all 0.2s;
}

.platform-btn-v2.active svg {
    fill: white;
}

/* Tone Buttons */
.tone-buttons-v2 {
    display: flex;
    gap: 10px;
}

.tone-btn-v2 {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border: 2px solid var(--bulletin-border);
    border-radius: 8px;
    background: white;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    color: var(--bulletin-text-muted);
    transition: all 0.2s;
}

.tone-btn-v2:hover {
    border-color: var(--bulletin-accent);
}

.tone-btn-v2.active {
    border-color: var(--bulletin-primary);
    background: var(--bulletin-bg);
    color: var(--bulletin-primary);
}

.tone-icon {
    font-size: 10px;
    font-weight: 700;
    padding: 3px 6px;
    background: var(--bulletin-border);
    border-radius: 4px;
    color: var(--bulletin-text-muted);
}

.tone-btn-v2.active .tone-icon {
    background: var(--bulletin-primary);
    color: white;
}

/* Preview */
.share-preview-v2 {
    background: var(--bulletin-bg);
    border-radius: 8px;
    border: 1px solid var(--bulletin-border);
    overflow: hidden;
}

.share-preview-v2 textarea {
    width: 100%;
    padding: 14px;
    border: none;
    font-family: inherit;
    font-size: 14px;
    resize: none;
    background: transparent;
    color: var(--bulletin-text);
    line-height: 1.5;
    box-sizing: border-box;
}

.share-preview-v2 textarea:focus {
    outline: none;
}

.share-preview-footer {
    display: flex;
    justify-content: space-between;
    padding: 8px 14px;
    background: rgba(0,0,0,0.03);
    font-size: 12px;
    color: var(--bulletin-text-muted);
}

.char-warning {
    color: #c53030;
}

/* Actions */
.share-actions-v2 {
    display: flex;
    gap: 12px;
    padding: 0 24px 20px;
}

.share-action-btn-v2 {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 20px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.share-action-btn-v2 svg {
    width: 18px;
    height: 18px;
}

.share-action-btn-v2.secondary {
    background: var(--bulletin-bg);
    color: var(--bulletin-primary);
    border: 2px solid var(--bulletin-border);
}

.share-action-btn-v2.secondary svg {
    fill: var(--bulletin-primary);
}

.share-action-btn-v2.secondary:hover {
    background: var(--bulletin-border);
}

.share-action-btn-v2.primary {
    background: var(--bulletin-primary);
    color: white;
}

.share-action-btn-v2.primary svg {
    fill: white;
}

.share-action-btn-v2.primary:hover {
    background: var(--bulletin-primary-light);
}

/* Hashtags */
.share-hashtags-section {
    border-top: 1px solid var(--bulletin-border);
    padding-top: 20px;
    margin-top: 4px;
}

.hashtag-list-v2 {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.hashtag-list-v2 span {
    background: var(--bulletin-bg);
    color: var(--bulletin-accent);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    cursor: pointer;
    border: 1px solid var(--bulletin-border);
    transition: all 0.2s;
}

.hashtag-list-v2 span:hover {
    background: var(--bulletin-accent);
    color: white;
    border-color: var(--bulletin-accent);
}

/* Medium Extra Section */
.medium-extra-section {
    padding: 20px 24px;
    background: var(--bulletin-bg);
    border-top: 1px solid var(--bulletin-border);
}

.medium-outline {
    background: white;
    border-radius: 8px;
    padding: 16px;
    border: 1px solid var(--bulletin-border);
}

.medium-field {
    margin-bottom: 12px;
}

.medium-field:last-child {
    margin-bottom: 0;
}

.medium-field label {
    display: block;
    font-size: 11px;
    font-weight: 600;
    color: var(--bulletin-text-muted);
    text-transform: uppercase;
    margin-bottom: 6px;
}

.medium-field input {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--bulletin-border);
    border-radius: 6px;
    font-size: 14px;
    background: var(--bulletin-bg);
    box-sizing: border-box;
}

.medium-field ul {
    margin: 0;
    padding-left: 20px;
    font-size: 13px;
    color: var(--bulletin-text);
}

.medium-field li {
    margin-bottom: 6px;
}

/* Floating Share Button */
.bulletin-share-btn-v2 {
    position: fixed;
    bottom: 24px;
    right: 24px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 14px 20px;
    border-radius: 50px;
    background: var(--bulletin-primary);
    color: white;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(26, 71, 42, 0.35);
    z-index: 9999;
    transition: all 0.2s;
}

.bulletin-share-btn-v2:hover {
    background: var(--bulletin-primary-light);
    transform: translateY(-2px);
    box-shadow: 0 6px 28px rgba(26, 71, 42, 0.4);
}

.bulletin-share-btn-v2 svg {
    width: 20px;
    height: 20px;
    fill: white;
}

/* Responsive */
@media (max-width: 600px) {
    .share-platforms-v2 {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .share-modal-content-v2 {
        max-height: 85vh;
        margin: 0 12px;
    }
    
    .tone-buttons-v2 {
        flex-direction: column;
    }
    
    .bulletin-share-btn-v2 span {
        display: none;
    }
    
    .bulletin-share-btn-v2 {
        padding: 14px;
        border-radius: 50%;
    }
}
</style>

<!-- Share Modal -->
<div id="share-modal" class="share-modal-v2" style="display:none;">
    <div class="share-modal-overlay" onclick="closeShareModal()"></div>
    <div class="share-modal-content-v2">
        <div class="share-modal-header-v2">
            <div class="share-header-title">
                <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg>
                <h3>Share This Bulletin</h3>
            </div>
            <button class="share-close-btn-v2" onclick="closeShareModal()">
                <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
        </div>
        
        <div class="share-headline-box">
            <div class="share-headline-label">
                <svg viewBox="0 0 24 24"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg>
                Key Insight
            </div>
            <p class="share-headline-text">Tanzania's maize forecast shows unprecedented growth potential for December 2026.</p>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Select Platform</div>
            <div class="share-platforms-v2">
                <!-- X/Twitter -->
                <button class="platform-btn-v2 active" data-platform="twitter" onclick="selectPlatform('twitter')">
                    <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    <span>X / Twitter</span>
                </button>
                <!-- LinkedIn -->
                <button class="platform-btn-v2" data-platform="linkedin" onclick="selectPlatform('linkedin')">
                    <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                    <span>LinkedIn</span>
                </button>
                <!-- WhatsApp -->
                <button class="platform-btn-v2" data-platform="whatsapp" onclick="selectPlatform('whatsapp')">
                    <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                    <span>WhatsApp</span>
                </button>
                <!-- Facebook -->
                <button class="platform-btn-v2" data-platform="facebook" onclick="selectPlatform('facebook')">
                    <svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                    <span>Facebook</span>
                </button>
                <!-- Instagram -->
                <button class="platform-btn-v2" data-platform="instagram" onclick="selectPlatform('instagram')">
                    <svg viewBox="0 0 24 24"><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg>
                    <span>Instagram</span>
                </button>
                <!-- Telegram -->
                <button class="platform-btn-v2" data-platform="telegram" onclick="selectPlatform('telegram')">
                    <svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                    <span>Telegram</span>
                </button>
                <!-- Medium -->
                <button class="platform-btn-v2" data-platform="medium" onclick="selectPlatform('medium')">
                    <svg viewBox="0 0 24 24"><path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"/></svg>
                    <span>Medium</span>
                </button>
                <!-- Email -->
                <button class="platform-btn-v2" data-platform="email" onclick="selectPlatform('email')">
                    <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                    <span>Email</span>
                </button>
            </div>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Select Tone</div>
            <div class="tone-buttons-v2">
                <button class="tone-btn-v2 active" data-tone="formal" onclick="selectTone('formal')">
                    <span class="tone-icon">PRO</span>
                    Formal
                </button>
                <button class="tone-btn-v2" data-tone="casual" onclick="selectTone('casual')">
                    <span class="tone-icon">FRI</span>
                    Casual
                </button>
                <button class="tone-btn-v2" data-tone="data" onclick="selectTone('data')">
                    <span class="tone-icon">NUM</span>
                    Data-Rich
                </button>
            </div>
        </div>
        
        <div class="share-section">
            <div class="share-section-label">Preview</div>
            <div class="share-preview-v2">
                <textarea id="share-text" rows="5"></textarea>
                <div class="share-preview-footer">
                    <span id="char-count">0 characters</span>
                    <span id="platform-limit"></span>
                </div>
            </div>
        </div>
        
        <div class="share-actions-v2">
            <button class="share-action-btn-v2 secondary" onclick="copyShareText()">
                <svg id="copy-icon" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                <span id="copy-text">Copy Text</span>
            </button>
            <button class="share-action-btn-v2 primary" onclick="shareNow()">
                <svg viewBox="0 0 24 24"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                Share Now
            </button>
        </div>
        
        <div class="share-section share-hashtags-section">
            <div class="share-section-label">Suggested Hashtags</div>
            <div id="hashtag-list" class="hashtag-list-v2"></div>
        </div>
        
        <div id="medium-extra" class="medium-extra-section" style="display:none;">
            <div class="share-section-label">Medium Article Outline</div>
            <div class="medium-outline">
                <div class="medium-field">
                    <label>Title</label>
                    <input type="text" id="medium-title" readonly>
                </div>
                <div class="medium-field">
                    <label>Subtitle</label>
                    <input type="text" id="medium-subtitle" readonly>
                </div>
                <div class="medium-field">
                    <label>Key Points</label>
                    <ul id="medium-points"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
const SOCIAL_DATA = {"headline": "Tanzania\'s December 2026 Crop Yield Forecast: What You Need to Know", "key_insight": "Tanzania\'s maize forecast shows unprecedented growth potential for December 2026.", "twitter": {"formal": "Discover Tanzania\'s December crop yields with promising insights into maize, rice, and beans production. How will these forecasts shape the future of agriculture? #Agriculture #Tanzania https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "What does December hold for Tanzania\'s maize, rice, and beans? Check out the latest forecasts to find out! #Farming #Tanzania https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Tanzania\'s maize yield forecast for December 2026 shows significant growth. How will this impact food security? Learn more: #FoodSecurity #Agriculture https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "linkedin": {"formal": "The December 2026 agricultural yield forecast for Tanzania provides insights into the production of key crops such as maize, rice, and beans. Supported by COMESA RFBS and AGRA PIATA, this forecast is crucial for stakeholders. Explore the full report for detailed data. https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Exciting updates on Tanzania\'s December crop yields! Maize, rice, and beans are set to shape the agricultural landscape. Discover how these forecasts can influence your business strategies. https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Tanzania\'s December 2026 forecast highlights: - Maize production surge - Rice and beans steady growth - Supported by COMESA RFBS and AGRA PIATA. Explore the data-driven insights here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "whatsapp": {"formal": "Check out Tanzania\'s December 2026 crop forecast! With support from COMESA RFBS and AGRA PIATA, learn about maize, rice, and beans production. View more details: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Hey farmers! Tanzania\'s December crop forecast is out. See how maize, rice, and beans are expected to perform. More info here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Tanzania\'s December forecast shows a promising maize yield. Supported by COMESA RFBS and AGRA PIATA, find out more about rice and beans too: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "facebook": {"formal": "Explore Tanzania\'s December 2026 crop yield forecast, supported by COMESA RFBS Initiative and AGRA PIATA. Discover potential growth in maize, rice, and beans. How will these insights shape our agricultural future? Learn more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "Tanzania\'s December crop forecast is here! Maize, rice, and beans are on the rise. What does this mean for local farmers? Check it out: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "The December forecast for Tanzania highlights a surge in maize production. Learn how this impacts food security and local agriculture: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "telegram": {"formal": "Tanzania\'s December 2026 crop yield forecast is available, detailing maize, rice, and beans. Supported by COMESA RFBS and AGRA PIATA, this report offers valuable insights for stakeholders. Read more: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "casual": "December\'s crop forecast for Tanzania is out! Discover the latest on maize, rice, and beans production. More here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html", "data": "Maize production in Tanzania is set to rise this December. Backed by COMESA RFBS and AGRA PIATA, find out more about rice and beans too: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "email": {"formal": {"subject": "Tanzania\'s December 2026 Crop Yield Forecast Released", "body": "Dear Colleague, We are pleased to share the December 2026 crop yield forecast for Tanzania, focusing on maize, rice, and beans. Supported by COMESA RFBS and AGRA PIATA, this report provides essential insights for agricultural stakeholders. Read the full bulletin here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "casual": {"subject": "Exciting Crop Forecast for Tanzania!", "body": "Hello, Check out Tanzania\'s December crop forecast! Maize, rice, and beans production insights are now available, thanks to support from COMESA RFBS and AGRA PIATA. Get the full details here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}, "data": {"subject": "Data-Driven Insights: Tanzania\'s December 2026 Forecast", "body": "Greetings, Discover key data from Tanzania\'s December 2026 crop yield forecast, highlighting maize, rice, and beans. Supported by COMESA RFBS and AGRA PIATA, this report is crucial for decision-making. Access the detailed bulletin here: https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html"}}, "medium": {"title": "Tanzania\'s December 2026 Crop Yield Forecast: A Comprehensive Analysis", "subtitle": "Understanding the Future of Maize, Rice, and Beans Production", "opening": "As December 2026 approaches, Tanzania faces a promising horizon in agricultural production. This comprehensive forecast, supported by the COMESA RFBS Initiative and AGRA PIATA, provides crucial insights into the expected yields of maize, rice, and beans.", "key_points": ["Maize production is expected to see significant growth, driven by favorable conditions and strategic initiatives.", "Rice and beans are projected to maintain steady growth, contributing to food security and economic stability.", "The COMESA RFBS Initiative and AGRA PIATA support are pivotal in realizing these forecasts, offering a roadmap for stakeholders."]}, "instagram": {"caption": "Tanzania\'s December 2026 crop forecast is here! Discover the latest insights into maize, rice, and beans production. Learn how these forecasts can impact your agricultural strategies. #FoodSecurity #Agriculture", "story_text": "Explore December\'s crop forecast for Tanzania. Maize, rice, and beans insights are crucial for growth. Read more on our website.", "hashtags": ["#FoodSecurity", "#Agriculture", "#TanzaniaCrops"]}, "hashtags": ["#FoodSecurity", "#Agriculture", "#TanzaniaCrops", "#Maize", "#Rice", "#Beans"], "stats": {"total_countries": 1, "total_crops": 1, "highlights": []}};
const BULLETIN_URL = "https://xylem-lab.github.io/agra/Bulletins/2026/December_2026/output/bulletin.html";
const BULLETIN_MONTH = "December";
const BULLETIN_YEAR = 2026;

const PLATFORM_LIMITS = {
    twitter: 280,
    linkedin: 3000,
    whatsapp: 1000,
    facebook: 500,
    telegram: 1000,
    instagram: 2200,
    medium: 5000,
    email: 5000
};

let currentPlatform = 'twitter';
let currentTone = 'formal';

function openShareModal() {
    document.getElementById('share-modal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
    selectPlatform('twitter');
    updateHashtags();
}

function closeShareModal() {
    document.getElementById('share-modal').style.display = 'none';
    document.body.style.overflow = '';
}

function selectPlatform(platform) {
    currentPlatform = platform;
    
    document.querySelectorAll('.platform-btn-v2').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.platform === platform);
    });
    
    const mediumExtra = document.getElementById('medium-extra');
    if (platform === 'medium') {
        mediumExtra.style.display = 'block';
        updateMediumFields();
    } else {
        mediumExtra.style.display = 'none';
    }
    
    updatePreview();
}

function selectTone(tone) {
    currentTone = tone;
    
    document.querySelectorAll('.tone-btn-v2').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.tone === tone);
    });
    
    updatePreview();
}

function updatePreview() {
    const textarea = document.getElementById('share-text');
    let text = '';
    
    try {
        if (currentPlatform === 'email') {
            const emailData = SOCIAL_DATA.email?.[currentTone];
            if (emailData) {
                text = `Subject: ${emailData.subject}\n\n${emailData.body}\n\n${BULLETIN_URL}`;
            }
        } else if (currentPlatform === 'medium') {
            const mediumData = SOCIAL_DATA.medium;
            if (mediumData) {
                text = `${mediumData.title}\n\n${mediumData.opening}\n\nRead more: ${BULLETIN_URL}`;
            }
        } else if (currentPlatform === 'instagram') {
            const igData = SOCIAL_DATA.instagram;
            if (igData) {
                text = igData.caption + '\n\n' + (igData.hashtags?.join(' ') || '');
            }
        } else {
            const platformData = SOCIAL_DATA[currentPlatform];
            if (platformData?.[currentTone]) {
                text = platformData[currentTone] + '\n\n' + BULLETIN_URL;
            }
        }
    } catch (e) {
        text = `${BULLETIN_MONTH} ${BULLETIN_YEAR} Yield Forecast Bulletin now available.\n\n${BULLETIN_URL}`;
    }
    
    if (!text) {
        text = `${BULLETIN_MONTH} ${BULLETIN_YEAR} Yield Forecast Bulletin now available.\n\n${BULLETIN_URL}`;
    }
    
    textarea.value = text;
    
    const charCount = text.length;
    const limit = PLATFORM_LIMITS[currentPlatform] || 1000;
    document.getElementById('char-count').textContent = `${charCount} characters`;
    
    const limitEl = document.getElementById('platform-limit');
    if (charCount > limit) {
        limitEl.textContent = `Exceeds ${limit} limit`;
        limitEl.className = 'char-warning';
    } else {
        limitEl.textContent = `Limit: ${limit}`;
        limitEl.className = '';
    }
}

function updateMediumFields() {
    const mediumData = SOCIAL_DATA.medium;
    if (mediumData) {
        document.getElementById('medium-title').value = mediumData.title || '';
        document.getElementById('medium-subtitle').value = mediumData.subtitle || '';
        
        const pointsList = document.getElementById('medium-points');
        pointsList.innerHTML = '';
        (mediumData.key_points || []).forEach(point => {
            const li = document.createElement('li');
            li.textContent = point;
            pointsList.appendChild(li);
        });
    }
}

function updateHashtags() {
    const container = document.getElementById('hashtag-list');
    const hashtags = SOCIAL_DATA.hashtags || ['#FoodSecurity', '#Agriculture', '#Africa', '#COMESA'];
    
    container.innerHTML = hashtags.map(tag => 
        `<span onclick="addHashtag('${tag}')">${tag}</span>`
    ).join('');
}

function addHashtag(tag) {
    const textarea = document.getElementById('share-text');
    if (!textarea.value.includes(tag)) {
        textarea.value = textarea.value.trim() + ' ' + tag;
        updatePreview();
    }
}

function copyShareText() {
    const textarea = document.getElementById('share-text');
    navigator.clipboard.writeText(textarea.value).then(() => {
        document.getElementById('copy-icon').innerHTML = '<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>';
        document.getElementById('copy-text').textContent = 'Copied!';
        setTimeout(() => {
            document.getElementById('copy-icon').innerHTML = '<path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>';
            document.getElementById('copy-text').textContent = 'Copy Text';
        }, 2000);
    });
}

function shareNow() {
    const text = encodeURIComponent(document.getElementById('share-text').value);
    const url = encodeURIComponent(BULLETIN_URL);
    
    let shareUrl = '';
    
    switch(currentPlatform) {
        case 'twitter':
            shareUrl = `https://twitter.com/intent/tweet?text=${text}`;
            break;
        case 'linkedin':
            shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
            break;
        case 'whatsapp':
            shareUrl = `https://wa.me/?text=${text}`;
            break;
        case 'facebook':
            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
            break;
        case 'telegram':
            shareUrl = `https://t.me/share/url?url=${url}&text=${text}`;
            break;
        case 'instagram':
            copyShareText();
            alert('Caption copied! Open Instagram to paste.');
            return;
        case 'medium':
            shareUrl = `https://medium.com/new-story`;
            copyShareText();
            break;
        case 'email':
            const emailData = SOCIAL_DATA.email?.[currentTone];
            if (emailData) {
                shareUrl = `mailto:?subject=${encodeURIComponent(emailData.subject)}&body=${text}`;
            }
            break;
    }
    
    if (shareUrl) {
        window.open(shareUrl, '_blank', 'width=600,height=500');
    }
}

document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeShareModal();
});
</script>

<!-- Floating Share Button -->
<button class="bulletin-share-btn-v2" onclick="openShareModal()">
    <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg>
    <span>Share Bulletin</span>
</button>

</body>
</html>
```